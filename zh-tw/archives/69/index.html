<!doctype html><html lang=zh-tw dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="📢 本文由 gemini-3-flash-preview 翻譯 第三章 使用 shell 本章介紹的 Linux shell 稱為 Bash shell，其全稱為 Bourne Again shell。還有其他的 shell，例如在 BSD UNIX 使用者中流行的 C shell (csh)，以及在 UNIX System V 使用者中非常流行的 Korn shell (ksh)，Ubuntu 預設啟動 Dash shell (速度比 Bash 快)，還有 Tcsh shell (一種改進的 C shell) 和 Ash shell (與 Bourne shell 非常相似)。\n"><title>Linux 學習 第三章 使用 shell</title>
<link rel=canonical href=https://blog.yexca.net/zh-tw/archives/69/><link rel=stylesheet href=/scss/style.min.8f98047b6cd92c22e3d38a3ba5f536200fbbb6bd864cd97459941f4e9e6a26d3.css><meta property='og:title' content="Linux 學習 第三章 使用 shell"><meta property='og:description' content="📢 本文由 gemini-3-flash-preview 翻譯 第三章 使用 shell 本章介紹的 Linux shell 稱為 Bash shell，其全稱為 Bourne Again shell。還有其他的 shell，例如在 BSD UNIX 使用者中流行的 C shell (csh)，以及在 UNIX System V 使用者中非常流行的 Korn shell (ksh)，Ubuntu 預設啟動 Dash shell (速度比 Bash 快)，還有 Tcsh shell (一種改進的 C shell) 和 Ash shell (與 Bourne shell 非常相似)。\n"><meta property='og:url' content='https://blog.yexca.net/zh-tw/archives/69/'><meta property='og:site_name' content="yexca'Blog"><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='Linux'><meta property='article:tag' content='讀書筆記'><meta property='article:published_time' content='2022-09-12T15:04:10+08:00'><meta property='article:modified_time' content='2022-09-12T15:04:10+08:00'><meta name=twitter:site content="@yexcano"><meta name=twitter:creator content="@yexcano"><meta name=twitter:title content="Linux 學習 第三章 使用 shell"><meta name=twitter:description content="📢 本文由 gemini-3-flash-preview 翻譯 第三章 使用 shell 本章介紹的 Linux shell 稱為 Bash shell，其全稱為 Bourne Again shell。還有其他的 shell，例如在 BSD UNIX 使用者中流行的 C shell (csh)，以及在 UNIX System V 使用者中非常流行的 Korn shell (ksh)，Ubuntu 預設啟動 Dash shell (速度比 Bash 快)，還有 Tcsh shell (一種改進的 C shell) 和 Ash shell (與 Bourne shell 非常相似)。\n"><link rel="shortcut icon" href=/favicon.ico><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.yexca.net\/zh-tw\/archives\/69\/"},"headline":"Linux 學習 第三章 使用 shell","name":"yexca'Blog","author":{"@type":"Person","name":"yexca"},"publisher":{"@type":"Person","name":"yexca'Blog"},"datePublished":"2022-09-12","dateModified":"2022-09-12","inLanguage":"zh-tw","description":"yexca 的技術與生活部落格，紀錄程式學習與日常隨筆。"}</script><link rel=alternate hreflang=x-default href=https://blog.yexca.net/><link rel=alternate hreflang=zh-CN href=https://blog.yexca.net/><link rel=alternate hreflang=zh-TW href=https://blog.yexca.net/zh-tw/><link rel=alternate hreflang=ja href=https://blog.yexca.net/ja/><link rel=alternate hreflang=en href=https://blog.yexca.net/en/><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Noto+Sans+JP:wght@100..900&family=Noto+Sans+SC:wght@100..900&family=Noto+Sans+TC:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Yomogi&display=swap" rel=stylesheet></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切換選單>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/zh-tw/><img src=/img/avatar_hu16531030078560657968.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/zh-tw>yexca'Blog</a></h1><h2 class=site-description>把這個不美好的世界，編程您所期望的樣子吧！</h2></div></header><ol class=menu-social><li><a href=https://github.com/yexca target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:blog@yexca.net target=_blank title=Mail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://t.me/yexca target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=/zh-tw/feed.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/zh-tw/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>首頁</span></a></li><li><a href=/zh-tw/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>檔案</span></a></li><li><a href=/zh-tw/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜尋</span></a></li><li><a href=/zh-tw/background/><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>背景</span></a></li><li><a href=/zh-tw/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>連結</span></a></li><li><a href=/zh-tw/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>關於</span></a></li><li><a href=/zh-tw/support/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-coffee"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 14c.83.642 2.077 1.017 3.5 1 1.423.017 2.67-.358 3.5-1s2.077-1.017 3.5-1c1.423-.017 2.67.358 3.5 1"/><path d="M8 3A2.4 2.4.0 007 5a2.4 2.4.0 001 2"/><path d="M12 3a2.4 2.4.0 00-1 2 2.4 2.4.0 001 2"/><path d="M3 10h14v5a6 6 0 01-6 6H9a6 6 0 01-6-6v-5z"/><path d="M16.746 16.726a3 3 0 10.252-5.555"/></svg>
<span>支持</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://blog.yexca.net/>简体中文</option><option value=https://blog.yexca.net/zh-tw/ selected>正體中文</option><option value=https://blog.yexca.net/en/>English</option><option value=https://blog.yexca.net/ja/>日本語</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>夜晚模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目錄</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#第三章-使用-shell>第三章 使用 shell</a><ul><li><a href=#31-shell-和-終端機視窗>3.1 shell 和 終端機視窗</a></li><li><a href=#32-選擇-shell>3.2 選擇 shell</a></li><li><a href=#33-執行命令>3.3 執行命令</a></li><li><a href=#34-使用命令歷史記錄重複執行命令>3.4 使用命令歷史記錄重複執行命令</a></li><li><a href=#35-連接和擴充命令>3.5 連接和擴充命令</a></li><li><a href=#36-使用-shell-變數>3.6 使用 shell 變數</a></li><li><a href=#37-建立自己的-shell-環境>3.7 建立自己的 shell 環境</a></li><li><a href=#38-獲取關於命令的資訊>3.8 獲取關於命令的資訊</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/zh-tw/categories/%E6%8A%80%E8%A1%93%E5%AD%B8%E7%BF%92/>技術學習</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/zh-tw/archives/69/>Linux 學習 第三章 使用 shell</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2022-09-12 15:04 +0800</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>閱讀時間: 15 分鐘</time></div></footer><footer class=post-tags><svg class="icon icon-tabler icon-tabler-tag" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7v3l9 9 7-7-9-9H8A2 2 0 006 5"/><path d="M9 8h-.01"/></svg>
<a href=/zh-tw/tags/linux/ target=_blank class="tag badge badge-secondary post-meta-detail-tag">Linux</a>
<a href=/zh-tw/tags/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/ target=_blank class="tag badge badge-secondary post-meta-detail-tag">讀書筆記</a></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://blog.yexca.net/archives/69/ class=link>简体中文</a>
<a href=https://blog.yexca.net/en/archives/69/ class=link>English</a>
<a href=https://blog.yexca.net/ja/archives/69/ class=link>日本語</a></div></footer></div></header><section class=article-content><div class=notice><strong>📢</strong> 本文由 gemini-3-flash-preview 翻譯</div><style lang=scss>.notice{padding:.75em 1em;margin:1em 0;border-left:4px solid;border-radius:4px;&.default { border-color: #ccc; background-color: #f9f9f9; color: #333; } &.info { border-color: #2196f3; background-color: #e3f2fd; color: #1a237e; } &.warn { border-color: #ff9800; background-color: #fff3e0; color: #e65100; } &.danger { border-color: #f44336; background-color: #ffebee; color: #b71c1c; }}[data-scheme=dark]{.notice { &.default { border-color: #666; background-color: #2a2a2a; color: #eee; } &.info { border-color: #90caf9; background-color: #1e3a5f; color: #e3f2fd; } &.warn { border-color: #ffb74d; background-color: #4e342e; color: #fff3e0; } &.danger { border-color: #ef5350; background-color: #3e2723; color: #ffebee; } }}[data-scheme=sepia]{.notice { &.info { border-color: #6a5acd; background-color: #fdf6e3; color: #3c2f2f; } &.warn { border-color: #e9967a; background-color: #faf0e6; color: #5c4033; } &.danger { border-color: #cd5c5c; background-color: #f5e0dc; color: #7b3f3f; } }}</style><h2 id=第三章-使用-shell>第三章 使用 shell</h2><p>本章介紹的 Linux shell 稱為 Bash shell，其全稱為 Bourne Again shell。還有其他的 shell，例如在 BSD UNIX 使用者中流行的 C shell (csh)，以及在 UNIX System V 使用者中非常流行的 Korn shell (ksh)，Ubuntu 預設啟動 Dash shell (速度比 Bash 快)，還有 Tcsh shell (一種改進的 C shell) 和 Ash shell (與 Bourne shell 非常相似)。</p><h3 id=31-shell-和-終端機視窗>3.1 shell 和 終端機視窗</h3><ol><li>使用 終端機視窗 (Terminal 窗口)</li></ol><p>透過執行的 GUI，可以打開一個終端機模擬程式 (有時也稱為 終端機視窗)，從而啟動一個 shell。</p><p>大部分系統透過 <em>Ctrl+Shift+T</em> 快速鍵打開，Fedora 可在程式中尋找，或者按 <em>alt+F2</em> 後輸入 <em>gnome-terminal</em>。</p><ol start=2><li>使用虛擬主控台</li></ol><p>大多數有 GUI 的 Linux 系統在啟動時通常會執行多個虛擬主控台，虛擬主控台除了可以打開 GUI 之外，還可以打開多個 shell 工作階段。</p><p>透過 <em>Ctrl+Shift+F1~F6</em> 可切換虛擬主控台。以 Fedora 為例，tty1 為 gdm (登入螢幕)，tty2 為第一個桌面，tty3 為第二個桌面 (純文字)，以此類推。</p><ul><li>命令提示字元</li></ul><p>對於一般使用者來說，預設的提示字元是一個簡單的錢字號。</p><p><code>$</code></p><p>對於 root 使用者來說，預設的提示字元是一個井字號 (有時也稱為 number sign 或 hash tag)。</p><p><code>#</code></p><p><del>生動形象地說明了美國本源在英國</del></p><h3 id=32-選擇-shell>3.2 選擇 shell</h3><p>使用 <code>who</code> 命令即可顯示當前登入的使用者名稱，登入的虛擬主控台以及登入的時間。</p><p>使用 <code>grep username /etc/passwd</code> 命令，在輸出的最後可看到預設使用的 shell。</p><p>可以透過輸入命令以切換 shell，例如 ksh、tcsh、csh、sh、dash 或其他 shell (假設已經安裝了這些 shell)。</p><blockquote><p>學習 Bash shell 不僅是因為它是大多數安裝中預設的 shell，也是因為它是大多數 Linux 認證考試中所使用的 shell。</p></blockquote><h3 id=33-執行命令>3.3 執行命令</h3><p>雖然只需要透過輸入命令名稱就可以執行許多命令，但更常見的做法是在命令之後輸入更多內容，從而改變其行為。在命令之後輸入的字元和單字稱為選項和參數。</p><h4 id=331-了解命令語法>3.3.1 了解命令語法</h4><ul><li>大多數命令都有一個或多個用來改變命令行為的選項。</li></ul><p>一般選項由單個字母構成，並在前面添加一個連字號 <code>-</code>，然而為了每次使用多個選項，也可以將多個單字母選項組合在一起，或者在每個選項前面都使用一個連字號。</p><p>一些命令的選項由一個完整的單字組成，一般需要在單字前使用雙連字號 <code>--</code>。例如，為了使用 <code>help</code> 這個選項，需要輸入 <code>--help</code>，如果是 <code>-help</code> 將被解釋為 <code>-h</code>、<code>-e</code>、<code>-l</code>、<code>-p</code> 這四個選項。儘管有些命令不遵守雙連字號約定，但大多數命令還是要在單字選項前使用雙連字號。</p><ul><li>此外，大多數命令還可在輸入某些選項後或者整個命令列結尾處接受參數。</li></ul><p>參數是一個額外的資訊區塊，比如檔名、目錄、使用者名稱、裝置或其他用來告訴命令如何執行的資訊。通常，在命令列中可以使用任意數量的參數，只要數量不超過單個命令列所允許的總字母數即可。</p><p>有時，一個參數與一個選項相關聯，此時參數必須跟在選項之後。如果使用的是單字母選項，那麼參數通常在一個空白之後。而對於全單字選項，參數跟在一個等號 <code>=</code> 之後。</p><p>例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar -cvf backup.tar /home/yexca
</span></span></code></pre></td></tr></table></div></div><p>選項的含義是建立 (c) 一個名為 backup.tar 的檔案 (f)，其中包含 /home/yexca 目錄的全部檔案，並且在備份檔案建立完畢 (v) 後顯示詳細資訊。因為 backup.tar 是 f 選項的一個參數，所以 backup.tar 必須跟在選項之後。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls --hide<span class=o>=</span>Desktop
</span></span></code></pre></td></tr></table></div></div><p>&ndash;hide 選項告訴 ls 命令不要顯示名為 Desktop 的檔案或目錄，注意選項與參數之間沒有空白。</p><ul><li>還可以嘗試其他的命令：</li></ul><p><code>uname</code> 命令顯示正在執行的系統類型，添加了 <code>-a</code> 選項後還可以查看主機名稱及核心版本。</p><p>當登入到一個 Linux 系統時，Linux 會認定您具有特定的身份，其中包括使用者名稱、群組名稱、使用者 ID 和群組 ID。此外，Linux 還會追蹤登入工作階段，從而了解登入的時間、閒置的時間以及登入的地點等。可透過 <code>id</code> 命令查看身份相關資訊。</p><blockquote><p>啟用了 SELinux (Security Enhanced Linux) 的 Linux 發行版本都在 <code>id</code> 輸出的末尾顯示了額外資訊，例如：</p><p>context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</p><p>SELinux 提供了一種可以緊緊鎖定 Linux 系統安全性的方法。</p></blockquote><p>透過 <code>who -uH</code> 可添加關於閒置時間和程序 ID 資訊 (u)，以及要求列印標頭 (H)。</p><p>閒置 (IDLE) 表示在沒有任何命令輸入的情況下 shell 保持打開狀態的時間長度。程序號碼 (PID) 表示使用者登入 shell 的程序 ID。而備註 (COMMENT) 則表示使用者用來進行登入操作的遠端電腦名稱 (前提是使用者使用了網路上的另一台電腦進行登入)，或者本地 X Display 的名稱 (前提是使用者正在使用一個終端機視窗)，比如 <em>:0.0</em>。</p><h4 id=332-查找命令>3.3.2 查找命令</h4><p>為了找到所輸入的命令，shell 在所謂的路徑中進行查找，對於不在路徑中的命令，可透過輸入命令位置的完整識別進行執行。</p><p>透過 <code>echo $PATH</code> 以查看 shell 的環境變數 PATH。</p><p>參考：
<a class=link href=https://blog.yexca.net/zh-tw/archives/60>Linux 下 bin 目錄 - yexca&rsquo;Blog</a></p><p>與其他一些作業系統不同的是，預設情況下，在搜尋路徑之前，Linux 並不會為了查找執行檔而檢查目前目錄，而是馬上開始搜尋路徑，只有在執行檔位於 PATH 環境變數或者給定了執行檔的絕對路徑或相對路徑時，才會執行目前目錄的執行檔。</p><hr><p>並不是所有的命令都位於 PATH 變數的目錄中，一些命令內建於 shell，透過建立用來定義任何命令的別名以及選項，可以改寫另外一些命令。下面是 shell 檢查輸入命令的順序：</p><ol><li><p>別名 (Alias)。由 <code>alias</code> 命令設置的名稱，可輸入此命令以查看建立的別名。</p></li><li><p>shell 保留字。shell 保留了一些單字用作特殊用途。</p></li><li><p>函式。一組能夠在目前 shell 中共同執行的命令。</p></li><li><p>內建命令。內建於 shell 中的命令，在檔案系統中沒有命令的表現形式，例如 cd、echo、exit、pwd、history (查看以前執行的命令列表)、fg (將一個背景執行的命令帶入前景)、set (設置 shell 選項) 和 type (顯示命令的位置)。</p></li><li><p>檔案系統命令。儲存在電腦檔案系統中的命令 (這些命令由 PATH 變數值表示)。</p></li></ol><p>為了知道命令的出處，可以使用 <code>type</code> 或者 <code>which</code> 命令，透過使用 <code>type -a</code> 可顯示命令的所有已知位置。</p><hr><p>如果一些命令不在 PATH 變數中，可使用 <code>locate</code> 命令嘗試查找該命令，透過使用 <code>locate</code> 命令可以訪問系統中任何可訪問的部分。</p><p><code>locate</code> 命令會對整個檔案系統進行查找，而不僅僅是在包含了命令的目錄中查找，如果沒有找到最近添加的檔案，可以 root 使用者身份執行 <code>updatedb</code> 以更新 locate 資料庫。</p><h3 id=34-使用命令歷史記錄重複執行命令>3.4 使用命令歷史記錄重複執行命令</h3><p>重複執行那些冗長、複雜且易於輸錯的命令將可以避免很多問題的出現。</p><h4 id=341-命令列編輯>3.4.1 命令列編輯</h4><p>預設情況下，Bash shell 使用基於 Emacs 文字編輯器的命令列編輯。如果更喜歡使用 vi，可以將 <code>set -o vi</code> 添加到家目錄的 .bashrc 檔案中。</p><ul><li>用來導覽命令列的按鍵：</li></ul><div class=table-wrapper><table><thead><tr><th>按鍵</th><th>全稱</th><th>含義</th></tr></thead><tbody><tr><td>Ctrl+F</td><td>向前一個字元</td><td>前進一個字元</td></tr><tr><td>Ctrl+B</td><td>向後一個字元</td><td>後退一個字元</td></tr><tr><td>Alt+F</td><td>向前一個單字</td><td>前進一個單字</td></tr><tr><td>Alt+B</td><td>向後一個單字</td><td>後退一個單字</td></tr><tr><td>Ctrl+A</td><td>命令列開頭</td><td>轉到目前命令列的開頭</td></tr><tr><td>Ctrl+E</td><td>命令列結尾</td><td>轉到目前命令列的結尾</td></tr><tr><td>Ctrl+L</td><td>清除螢幕</td><td>清除螢幕，並使游標停留在螢幕頂部</td></tr></tbody></table></div><ul><li>用來編輯命令列的按鍵：</li></ul><div class=table-wrapper><table><thead><tr><th>按鍵</th><th>全稱</th><th>含義</th></tr></thead><tbody><tr><td>Ctrl+D</td><td>刪除目前字元</td><td>刪除目前字元</td></tr><tr><td>Backspace</td><td>刪除前一個字元</td><td>刪除前一個字元</td></tr><tr><td>Ctrl+T</td><td>調換字元</td><td>交換目前字元和前一個字元的位置</td></tr><tr><td>Alt+T</td><td>調換單字</td><td>交換目前單字和前一個單字的位置</td></tr><tr><td>Alt+U</td><td>大寫單字</td><td>將目前單字改為大寫</td></tr><tr><td>Alt+L</td><td>小寫單字</td><td>將目前單字改為小寫</td></tr><tr><td>Alt+C</td><td>首字母大寫單字</td><td>把游標目前位置單字的頭一個字母變為大寫</td></tr><tr><td>Ctrl+V</td><td>插入特殊字元</td><td>添加一個特殊字元，例如添加 Tab</td></tr></tbody></table></div><ul><li>用來剪下和貼上命令列中文字的按鍵：</li></ul><div class=table-wrapper><table><thead><tr><th>按鍵</th><th>全稱</th><th>含義</th></tr></thead><tbody><tr><td>Ctrl+K</td><td>剪下到行末</td><td>剪下游標後面的所有字元</td></tr><tr><td>Ctrl+U</td><td>剪下到行首</td><td>剪下游標前面的所有字元</td></tr><tr><td>Ctrl+W</td><td>剪下前一個單字</td><td>剪下位於目前游標之前的一個單字</td></tr><tr><td>Alt+D</td><td>剪下後一個單字</td><td>剪下位於目前游標之後的一個單字</td></tr><tr><td>Ctrl+Y</td><td>貼上目前文字</td><td>貼上最近剪下的文字</td></tr><tr><td>Alt+Y</td><td>貼上早期文字</td><td>轉回到早期剪下的文字並貼上</td></tr><tr><td>Ctrl+C</td><td>刪除整行</td><td>刪除整個命令列</td></tr></tbody></table></div><h4 id=342-命令列補全>3.4.2 命令列補全</h4><p>為了減少按鍵，Bash shell 提供了多種不同的方法來補全部分輸入值。為了嘗試補全一個值，需要輸入前幾個字元並按 <em>Tab</em> 鍵。下面是可以透過 Bash shell 部分輸入的值：</p><ul><li><p>命令、別名或函式。如果所輸入的文字以常規字元開頭，shell 將嘗試使用命令、別名或者函式名稱來補全該文字。</p></li><li><p>變數。如果所輸入的文字以錢字號 <code>$</code> 開頭，那麼 shell 將使用來自目前 shell 的一個變數來補全文字。</p></li><li><p>使用者名稱。如果所輸入的文字以波浪號 <code>~</code> 開頭，shell 將使用一個使用者名稱補全文字。因此，~username 表示指定使用者的家目錄。</p></li><li><p>主機名稱。如果所輸入的文字以 at 符號 <code>@</code> 開頭，shell 將使用來自 <code>/etc/hosts</code> 檔案中的一個主機名稱補全文字。</p></li></ul><blockquote><p>如果想要添加來自其他檔案的主機名稱，只需要將 HOSTFILE 變數設置為該檔名，但該檔案必須與 <code>/etc/hosts</code> 相同的格式。</p></blockquote><p>如果所輸入的字串可以產生多種補全結果，此時可以透過雙擊 TAB 鍵列出所有可能的結果。</p><h4 id=343-命令列重複執行>3.4.3 命令列重複執行</h4><p>在輸入完一行命令後，該命令列會儲存到 shell 的歷史命令列表中。</p><p>透過 <code>history</code> 命令查看歷史命令列表，或者添加數字參數以顯示指定數量的最新命令。</p><p>透過使用驚嘆號 <code>!</code> 以重複執行這些命令，此種方法將直接執行，沒有再次確認的機會。</p><ul><li><p>!n &mdash; 執行命令編號。例如 <code>!255</code> 將執行第 255 個命令。</p></li><li><p>!! &mdash; 執行前一個命令。</p></li><li><p>!?string? &mdash; 執行包含字串的命令。</p></li></ul><hr><p>除了直接執行 history 外，還可重複執行特定命令並進行編輯：</p><div class=table-wrapper><table><thead><tr><th>按鍵</th><th>功能</th><th>描述</th></tr></thead><tbody><tr><td>方向鍵或<br>Ctrl+P 與 Ctrl+N</td><td>步驟</td><td>遍歷歷史命令列表的每一個命令列，直到找到所需的命令列</td></tr><tr><td>Ctrl+R</td><td>反向增量搜尋</td><td>按下後可輸入一個搜尋字串，完成反向搜尋。當輸入字串時，會出現可以執行或編輯的相匹配的命令列</td></tr><tr><td>Ctrl+S</td><td>向前增量搜尋</td><td>與上一個類似，不過是向前搜尋。並不是所有情況都可用</td></tr><tr><td>Alt+P</td><td>反向搜尋</td><td>按下後可輸入一個搜尋字串，完成反向搜尋。輸入字串並按 Enter 鍵後可看到該字串的最新命令列</td></tr><tr><td>Alt+N</td><td>向前搜尋</td><td>與上一個類似，不過是向前搜尋。並不是所有情況都可用</td></tr></tbody></table></div><hr><p>還可使用 <code>fc</code> 命令以使用歷史命令列表。輸入 <code>fc</code> 後跟著一個歷史命令列編號或一個範圍 (例如 <code>fc 233 255</code>)，將在文字編輯器中打開這些命令 (預設為 vi)，關閉編輯器後命令將 (逐個) 執行。</p><p>關閉 shell 後，歷史命令列表將儲存到家目錄的 .bash_history 檔案中，預設最多儲存 1000 條。</p><blockquote><p>如果不想儲存歷史命令列表，就不要正常退出 shell，可透過 <code>kill -9 PID</code> 關閉 shell 工作階段以不儲存歷史命令。</p><p>將變數 HISTFILE 設置為 /dev/null 或保持 HISTSIZE 為空都是沒用的，只要 shell 正常退出，就會永久儲存 shell 歷史。</p></blockquote><h3 id=35-連接和擴充命令>3.5 連接和擴充命令</h3><p>shell 真正強大的功能在於能將命令的輸入和輸出重導向到其他命令或檔案中，反之亦然。</p><p>為了將命令串在一起，shell 使用了<em>中繼字元</em> (metacharacter)。中繼字元是對 shell 有特殊含義的輸入字元，用於連接請求或擴充請求。</p><p>中繼字元包括管線字元 <code>|</code>、與號 <code>&</code>、分號 <code>;</code>、右括號 <code>)</code>、左括號 <code>(</code>、小於號 <code>&lt;</code> 和大於號 <code>></code>。</p><h4 id=351-命令之間的管線>3.5.1 命令之間的管線</h4><p>管線字元 <code>|</code> 將一個命令的輸出連接到另一個命令的輸入，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /etc/passwd <span class=p>|</span> sort <span class=p>|</span> less
</span></span></code></pre></td></tr></table></div></div><p>該命令列出 /etc/passwd 檔案內容。輸出到 sort 命令以對內容排序，最後發送到 less 以顯示輸出。</p><h4 id=352-連續命令>3.5.2 連續命令</h4><p>使用分號 <code>;</code> 將多個命令隔開可在同一命令列輸入多條命令以執行連續的命令，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>date <span class=p>;</span> troff -me VertLargeDocument <span class=p>|</span> lpr <span class=p>;</span> date
</span></span></code></pre></td></tr></table></div></div><p>對一個很大的文件格式化，並顯示格式化所需的時間。</p><h4 id=353-背景命令>3.5.3 背景命令</h4><p>一些命令可能需要花費很長時間才能完成，可使用與號 <code>&</code> 讓命令在背景執行，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>troff -me VertLargeDocument <span class=p>|</span> lpr <span class=p>&amp;</span>
</span></span></code></pre></td></tr></table></div></div><p>在程序結束之前不要關閉 shell 或刪除 (kill) 該程序，否則程序將終止。</p><h4 id=354-擴充命令>3.5.4 擴充命令</h4><p>透過命令替換，可以使一條命令的標準輸出變為另一條命令的一個參數。</p><p>命令替換的兩種形式是 <code>$(command)</code> 和 <code>command</code> (注意是反引號)。</p><p>兩種形式中的命令可以包括選項、中繼字元和參數，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi <span class=k>$(</span>find /home <span class=p>|</span> grep xyzzy<span class=k>)</span>
</span></span></code></pre></td></tr></table></div></div><p>在 vi 命令執行之前完成了命令替換。首先 find 命令從 /home 目錄尋找所有檔案與目錄，然後將輸出連接到 grep 命令，將檔名中不包含 xyzzy 的過濾掉，最後使用 vi 打開所有檔案進行編輯 (每次打開一個檔案)。</p><p>注意：不要從根檔案系統開始使用 grep，否則將匹配並嘗試編輯幾千個檔案。</p><h4 id=355-擴充算術運算式>3.5.5 擴充算術運算式</h4><p>有時可能需要將算術結果傳遞給一條命令。透過 <code>$[expression]</code> 或者 <code>$((expression))</code>，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;I am </span>$<span class=s2>[2022-1957] years old&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>輸出為 I am 65 years old。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;There are </span><span class=k>$(</span>ls <span class=p>|</span> wc -w<span class=k>)</span><span class=s2> files in this directory&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>該命令列出目前目錄內容 (ls) 並執行了單字計數命令，計算出找到的檔案數量 (wc -w)，然後輸出。</p><h4 id=356-擴充變數>3.5.6 擴充變數</h4><p>使用錢字號 <code>$</code> 對 shell 中用來儲存資訊的變數進行擴充。當在命令列中擴充一個環境變數時，所列印的是變數的值，而不是變數名稱，例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls -l <span class=nv>$BASH</span>
</span></span></code></pre></td></tr></table></div></div><p>列印 bash 命令的詳細列表 -rwxr-xr-x. 1 root root 1390064 1月 20 2022 /usr/bin/bash</p><h3 id=36-使用-shell-變數>3.6 使用 shell 變數</h3><p>shell 本身使用變數儲存了對使用者的 shell 工作階段非常有用的資訊。如果想要查看目前 shell 設置的所有變數，可以使用 <code>set</code> 命令。</p><p>其中，本地變數的一個子集被稱為環境變數，對任何透過目前 shell 打開的新 shell 都是可用的。可以使用 <code>env</code> 命令查看環境變數。</p><p>除了所設置的變數之外，系統檔案也會設置一些用來儲存相關資訊的變數，比如設定檔、信箱以及路徑目錄的位置。此外，這些變數還可以儲存關於 shell 提示字元、歷史命令列表的大小以及作業系統類型的相關值。如果想引用這些變數的值，需要在變數之前添加一個錢字號 <code>$</code>。</p><p>當啟動一個 shell 時，許多環境變數已經被設置了，下表為一些既可以在使用 Bash shell 時設置，又可以為了使用不同功能而設置的變數：</p><div class=table-wrapper><table><thead><tr><th>變數</th><th>描述</th></tr></thead><tbody><tr><td>BASH</td><td>包含了 Bash 命令的完整路徑。其值通常為 /bin/bash</td></tr><tr><td>BASH_VERSION</td><td>表示目前 Bash 命令版本的一個數字</td></tr><tr><td>EUID</td><td>表示目前使用者有效的使用者 ID 號碼。當啟動 shell 時，根據 /etc/passwd 檔案中的使用者項進行賦值</td></tr><tr><td>FCEDIT</td><td>fc 命令用來編輯 history 命令的文字編輯器，預設為 vi</td></tr><tr><td>HISTFILE</td><td>歷史命令檔案的位置，通常位於 $HOME/.bash_history</td></tr><tr><td>HISTFILESIZE</td><td>可以儲存的歷史命令條目的數量。當達到該數量時，最早的命令將被丟棄，預設為 1000</td></tr><tr><td>HISTCMD</td><td>返回歷史命令列表中目前命令的數量</td></tr><tr><td>HOME</td><td>家目錄</td></tr><tr><td>HOSTTYPE</td><td>描述了 Linux 系統正在執行的電腦系統結構。對於 Intel 相容的個人電腦，其值為 i386、i486 或 i386-Linux 類似的值。而對於 AMD 64 位元電腦，其值為 x86_64</td></tr><tr><td>MAIL</td><td>信箱檔案的位置，通常為 /var/spool/mail/$USER</td></tr><tr><td>OLDPWD</td><td>修改目前工作目錄之前的工作目錄</td></tr><tr><td>OSTYPE</td><td>用來識別目前作業系統。對於 Fedora，值為 Linux 或 Linux-gnu</td></tr><tr><td>PATH</td><td>值為冒號 <code>:</code> 分隔的目錄列表，主要用來查找需要輸入的命令</td></tr><tr><td>PPID</td><td>目前 shell 的命令的程序 ID</td></tr><tr><td>PROMPT_COMMAND</td><td>可以將該變數設置為一個命令名稱，以便在每次 shell 提示字元顯示之前執行該命令</td></tr><tr><td>PS1</td><td>設置 shell 提示字元的值。有時命令需要額外的提示字元，可以使用變數 PS2、PS3 等進行設置</td></tr><tr><td>PWD</td><td>表示目前目錄</td></tr><tr><td>RANDOM</td><td>生成一個 0~32767 的隨機數</td></tr><tr><td>SECONDS</td><td>自 shell 啟動後的秒數</td></tr><tr><td>SHLVL</td><td>與目前 shell 工作階段相關聯的 shell 層級數。當登入到 shell 時，值為 1，每執行一次 Bash 命令後該層級數將遞增 (例如使用 <code>su</code> 命令或輸入 bash)</td></tr><tr><td>TMOUT</td><td>可以為該變數設置一個數字，表示 shell 可以閒置的秒數。在秒數到達後，shell 將會退出 (登出使用者)</td></tr></tbody></table></div><h4 id=361-建立和使用別名-alias>3.6.1 建立和使用別名 (Alias)</h4><p>使用 <code>alias</code> 命令可以列出所有別名以及建立別名。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>p</span><span class=o>=</span><span class=s1>&#39;pwd ; ls -CF&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>執行 <code>p</code> 命令，將執行 <code>pwd</code> 命令後執行 <code>ls -CF</code> 以列表的形式列出該目錄的內容。</p><p>如果想刪除，可使用 <code>unalias</code> 命令。</p><h4 id=362-退出-shell>3.6.2 退出 shell</h4><p>輸入 <code>exit</code> 或者按 <em>Ctrl+D</em>。</p><h3 id=37-建立自己的-shell-環境>3.7 建立自己的 shell 環境</h3><p>可以透過調整 shell 以幫助更有效地工作。</p><h4 id=371-設定-shell>3.7.1 設定 shell</h4><p>shell 的行為方式由多個設定檔所支援：</p><div class=table-wrapper><table><thead><tr><th>檔案</th><th>描述</th></tr></thead><tbody><tr><td>/etc/profile</td><td>為每個使用者設置了使用者環境資訊，當首次登入時執行該檔案。該檔案還從 /etc/profile.d 目錄的設定檔中收集相關的 shell 設置。除了為諸如使用者信箱位置以及歷史檔案大小的資訊設置環境變數，還提供了路徑值</td></tr><tr><td>/etc/bashrc</td><td>每次打開一個 Bash shell 時都會執行該檔案，可透過每個使用者的 ~/.bashrc 檔案中的資訊改寫該檔案。設置了預設的提示字元，同時還可添加一個或多個別名</td></tr><tr><td>~/.bash_profile</td><td>用來被每個使用者輸入 shell 具體用法資訊的檔案，只有當使用者登入才會執行該檔案。預設情況下，它設置一些環境變數並執行使用者的 .bashrc 檔案。該檔案是添加環境變數的絕佳位置</td></tr><tr><td>~/.bashrc</td><td>包含了特定於 Bash shell 的資訊，當進行登入以及每次打開一個新 Bash shell 都會讀取該檔案。該檔案是添加別名的好地方</td></tr><tr><td>~/.bash_logout</td><td>每次登出時執行該檔案，預設會清除螢幕</td></tr></tbody></table></div><p>如果想更改 /etc/profile 或 /etc/bashrc 檔案，則必須是 root 使用者。一般建立 /etc/profile.d/custom.sh 檔案來添加系統全域的設置，而不是直接編輯這些檔案。</p><ul><li>nano 編輯器</li></ul><p>較為簡單的文字編輯器，<code>Ctrl+O</code> 儲存檔案，<code>Ctrl+X</code> 退出檔案。</p><h4 id=372-設置提示字元>3.7.2 設置提示字元</h4><p>提示字元由一組字元組成，每當 shell 準備接收命令時都會顯示這組字元。PS1 環境變數設置了提示字元所包含的內容，如果需要額外的輸入，可以使用 PS2、PS3 以及 PS4 的值。</p><div class=table-wrapper><table><thead><tr><th>特殊字元</th><th>描述</th></tr></thead><tbody><tr><td>\!</td><td>顯示目前命令歷史記錄編號，包括為使用者名稱儲存的所有以前的命令</td></tr><tr><td>\#</td><td>顯示目前命令的命令編號，僅包括用於獲取 shell 的命令</td></tr><tr><td>\$</td><td>根據使用者類型的不同，顯示使用者提示字元 <code>$</code> 或 root 提示字元 <code>#</code></td></tr><tr><td>\W</td><td>僅顯示目前工作的基底名稱 (basename)</td></tr><tr><td>\[</td><td>出現在非列印字元序列之前。可用來向提示字元添加終端機控制序列，比如改變顏色、添加閃爍效果或使字元變粗 (所使用的終端機決定了最終可用的序列)</td></tr><tr><td>\]</td><td>緊跟在非列印字元序列之後</td></tr><tr><td>\\</td><td>顯示一個反斜線</td></tr><tr><td>\d</td><td>顯示目前日期的星期幾、月份以及日期</td></tr><tr><td>\h</td><td>顯示正在執行 shell 的電腦的主機名稱</td></tr><tr><td>\n</td><td>換行符號</td></tr><tr><td>\nnn</td><td>顯示替換 nnn 的八進位數所表示的字元</td></tr><tr><td>\s</td><td>顯示目前 shell 的名稱</td></tr><tr><td>\t</td><td>以小時、分鐘、秒的格式列印目前時間</td></tr><tr><td>\u</td><td>列印目前使用者名稱</td></tr><tr><td>\w</td><td>顯示目前工作目錄的完整路徑</td></tr></tbody></table></div><p>如果僅臨時修改，例如 <code>export PS1="[\t\w]\$"</code>。</p><p>如果永久修改，需要向 ~/.bashrc 添加 PS1 值。</p><p>閱讀更多：
<a class=link href=https://www.tldp.org/HOWTO/Bash-Prompt-HOWTO target=_blank rel=noopener>Bash Prompt HOWTO</a></p><h4 id=373-添加環境變數>3.7.3 添加環境變數</h4><p>有時可能需要向 .bashrc 檔案添加一些環境變數：</p><ul><li><p>TMOUT &mdash; 設置在 Bash 自動退出之前 shell 可以處於非活動狀態多長時間。</p></li><li><p>PATH &mdash; 設置了對所使用命令進行搜尋的目錄。例如為了添加目錄 /home/yexca/bin，可添加以下程式碼：</p><p>PATH=$PATH:/home/yexca/bin ; export PATH</p><p>該範例首先將所有目前的路徑目錄 ($PATH) 讀取到新 PATH 變數中，然後添加 ~/bin 目錄，最後匯出新的 PATH 變數。</p></li></ul><blockquote><p>切勿將 <code>.</code> 添加到 PATH 變數，可能存在安全風險。</p></blockquote><ul><li><p>WHATEVER &mdash; 可以建立自己的環境變數，為工作提供捷徑。為這些變數選擇一個未被使用的任何名稱，並賦予一個有用的值。例如：</p><p>MYWORKDIR=/home/yexca/work ; export MYWORKDIR</p><p>可透過輸入 <code>cd $MYWORKDIR</code> 使設置的目錄成為目前目錄。</p></li></ul><h3 id=38-獲取關於命令的資訊>3.8 獲取關於命令的資訊</h3><p>一些命令內建於 shell 中，例如 <code>help | less</code> 以瀏覽幫助資訊，或者 <code>help command</code> 以查看某命令的幫助資訊。</p><p>在命令中使用 <code>--help</code> 選項或 <code>-h</code> 選項以查看命令提供的幫助資訊。</p><p>還有 <code>info</code> 和 <code>man command</code> 命令學習某一特定命令。</p><hr><p>說明頁 (man page) 是獲取命令以及 Linux 系統中其他基本組件相關資訊的最常用方法。</p><p>說明頁有 8 個章節：</p><div class=table-wrapper><table><thead><tr><th>節數</th><th>節名稱</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>使用者命令</td><td>可以由一般使用者透過 shell 執行的命令</td></tr><tr><td>2</td><td>系統呼叫</td><td>某一應用程式中用來呼叫系統核心的程式設計函式</td></tr><tr><td>3</td><td>C 函式庫函式</td><td>為特定程式設計函式庫提供介面的程式設計函式</td></tr><tr><td>4</td><td>裝置和特殊檔案</td><td>表示硬體裝置或軟體裝置的檔案系統節點</td></tr><tr><td>5</td><td>檔案格式和約定</td><td>檔案類型或特定的設定檔</td></tr><tr><td>6</td><td>遊戲</td><td>系統中可玩的遊戲</td></tr><tr><td>7</td><td>雜項</td><td>對相關主題 (如協定、檔案系統) 的概述</td></tr><tr><td>8</td><td>系統管理工具和守護行程</td><td>需要 root 或其他管理特權的命令</td></tr></tbody></table></div><p>透過 <code>man -k</code> 可搜尋說明頁資料庫。若無搜尋結果可能是未初始化，使用 root 身份執行 <code>mandb</code> 以初始化資料庫。</p><p>透過例如 <code>man 5 passwd</code> 以顯示第 5 節內容。</p><p>瀏覽時透過 Page Down 和 Page Up 以翻頁，或使用 Enter 與方向鍵以移動一行。如果想要搜尋，使用正斜線 <code>/</code> 然後輸入要搜尋的內容，透過 <code>n</code> 重複向前搜尋，<code>N</code> 以重複向後搜尋。輸入 <code>q</code> 以退出。</p></section><footer class=article-footer><section class=article-tags><a href=/zh-tw/tags/linux/>Linux</a>
<a href=/zh-tw/tags/%E8%AE%80%E6%9B%B8%E7%AD%86%E8%A8%98/>讀書筆記</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>This post is licensed under CC BY-NC-SA 4.0 by the author.</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相關文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/zh-tw/archives/64/><div class=article-details><h2 class=article-title>HTTP 學習</h2></div></a></article><article><a href=/zh-tw/archives/60/><div class=article-details><h2 class=article-title>Linux 下 bin 目錄</h2></div></a></article><article><a href=/zh-tw/archives/41/><div class=article-details><h2 class=article-title>Linux 新增使用者與管理員帳號</h2></div></a></article><article><a href=/zh-tw/archives/40/><div class=article-details><h2 class=article-title>Linux 隨手筆記</h2></div></a></article><article><a href=/zh-tw/archives/38/><div class=article-details><h2 class=article-title>系統學習 Linux 筆記</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.39/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send{color:var(--twikoo-body-text-color-main)}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://twikoo-jade-one.vercel.app/",el:"#tcomment"})</script><footer class=site-footer><section class=copyright>&copy;
2021 -
2026 <a href=https://blog.yexca.net target=_blank class=link rel=noopener>yexca</a></section><section class=powerby><p><span id=htmer_time style=color:var(--themecolor)></span></p><img src=https://count.getloli.com/@yexca><p>Visits Since 2025-02-28</p>使用 <a href=https://gohugo.io/ target=_blank class=link rel=noopener>Hugo</a> 建立 <span>|</span>
主題 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank class=link rel=noopener data-version=3.29.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank class=link rel=noopener>Jimmy</a> 設計</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script>function secondToDate(e){if(!e)return 0;var t=new Array(0,0,0,0,0);return e>=365*24*3600&&(t[0]=parseInt(e/(365*24*3600)),e%=365*24*3600),e>=24*3600&&(t[1]=parseInt(e/(24*3600)),e%=24*3600),e>=3600&&(t[2]=parseInt(e/3600),e%=3600),e>=60&&(t[3]=parseInt(e/60),e%=60),e>0&&(t[4]=e),t}</script><script type=text/javascript language=javascript>function setTime(){var e=Math.round(new Date(Date.UTC(2021,10,6,14,15,19)).getTime()/1e3),t=Math.round(((new Date).getTime()+8*60*60*1e3)/1e3);currentTime=secondToDate(t-e),currentTimeHtml="This blog has been running for "+currentTime[0]+" years "+currentTime[1]+" days "+currentTime[2]+" hours "+currentTime[3]+" minutes "+currentTime[4]+" seconds",document.getElementById("htmer_time").innerHTML=currentTimeHtml}setInterval(setTime,1e3)</script></body></html>