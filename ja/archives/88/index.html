<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=" この記事は Google 翻訳を使用して処理されました\nSQL Series\nデータベース学習 1 データベース入門: https://blog.yexca.net/ja/archives/86 データベース学習 2 リレーショナル モデル: https://blog.yexca.net/archives/ja/87 データベースの学習 3 SQL言語: 本文\n"><title>データベースの学習 3 SQL言語</title>
<link rel=canonical href=https://blog.yexca.net/ja/archives/88/><link rel=stylesheet href=/scss/style.min.573c242ba89f380b18c7c8ab35e57af94748ecf245a8cc0a8e7674c15cf0b746.css><meta property='og:title' content="データベースの学習 3 SQL言語"><meta property='og:description' content=" この記事は Google 翻訳を使用して処理されました\nSQL Series\nデータベース学習 1 データベース入門: https://blog.yexca.net/ja/archives/86 データベース学習 2 リレーショナル モデル: https://blog.yexca.net/archives/ja/87 データベースの学習 3 SQL言語: 本文\n"><meta property='og:url' content='https://blog.yexca.net/ja/archives/88/'><meta property='og:site_name' content="yexca'Blog"><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='データベース'><meta property='article:published_time' content='2023-02-08T08:00:00+08:00'><meta property='article:modified_time' content='2023-02-08T08:00:00+08:00'><meta name=twitter:site content="@yexcano"><meta name=twitter:creator content="@yexcano"><meta name=twitter:title content="データベースの学習 3 SQL言語"><meta name=twitter:description content=" この記事は Google 翻訳を使用して処理されました\nSQL Series\nデータベース学習 1 データベース入門: https://blog.yexca.net/ja/archives/86 データベース学習 2 リレーショナル モデル: https://blog.yexca.net/archives/ja/87 データベースの学習 3 SQL言語: 本文\n"><link rel="shortcut icon" href=/favicon.ico><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.yexca.net\/ja\/archives\/88\/"},"headline":"データベースの学習 3 SQL言語","name":"yexca'Blog","author":{"@type":"Person","name":"yexca"},"publisher":{"@type":"Person","name":"yexca'Blog"},"datePublished":"2023-02-08","dateModified":"2023-02-08","inLanguage":"ja","description":"yexca の技術と生活のブログ。プログラミングや日常の記録を掲載。"}</script><link rel=alternate hreflang=x-default href=https://blog.yexca.net/><link rel=alternate hreflang=zh-CN href=https://blog.yexca.net/><link rel=alternate hreflang=zh-TW href=https://blog.yexca.net/zh-tw/><link rel=alternate hreflang=ja href=https://blog.yexca.net/ja/><link rel=alternate hreflang=en href=https://blog.yexca.net/en/><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Noto+Sans+JP:wght@100..900&family=Noto+Sans+SC:wght@100..900&family=Noto+Sans+TC:wght@100..900&family=Yomogi&display=swap" rel=stylesheet></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/ja/><img src=/img/avatar_hu16531030078560657968.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/ja>yexca'Blog</a></h1><h2 class=site-description>この世で道が尽きることはなく、行きたいと望む心があれば、道は必ず足元に広がる</h2></div></header><ol class=menu-social><li><a href=https://github.com/yexca target=_blank title=0GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:yexca@duck.com target=_blank title=1Mail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://t.me/yexca target=_blank title=2Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=/ja/feed.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/ja/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ホーム</span></a></li><li><a href=/ja/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>アーカイブ</span></a></li><li><a href=/ja/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>検索</span></a></li><li><a href=/ja/background/><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>背景</span></a></li><li><a href=/ja/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>リンク</span></a></li><li><a href=/ja/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>について</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://blog.yexca.net/>简体中文</option><option value=https://blog.yexca.net/zh-tw/>繁體中文</option><option value=https://blog.yexca.net/en/>English</option><option value=https://blog.yexca.net/ja/ selected>日本語</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ダークモード</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#sql言語の分類>SQL言語の分類</a></li><li><a href=#i-ddlデータ定義言語>(I) DDLデータ定義言語</a><ul><li><a href=#1-データベースを作成する>1. データベースを作成する</a></li><li><a href=#2基本テーブルを作成します>2。基本テーブルを作成します</a></li><li><a href=#3基本的なテーブル構造を変更します>3。基本的なテーブル構造を変更します</a></li><li><a href=#4基本テーブルを削除します>4。基本テーブルを削除します</a></li></ul></li><li><a href=#二dml-データ操作言語>(二)、DML データ操作言語</a><ul><li><a href=#1-insert-ステートメントを挿入>1. INSERT ステートメントを挿入</a></li><li><a href=#2-delete-削除ステートメント>2. DELETE 削除ステートメント</a></li><li><a href=#3-update-ステートメントを修正>3. UPDATE ステートメントを修正</a></li></ul></li><li><a href=#三dql-データクエリ言語>(三)、DQL データクエリ言語</a><ul><li><a href=#1-投影クエリ>1. 投影クエリ</a></li><li><a href=#2-クエリを選択>2. クエリを選択</a></li><li><a href=#3-並べ替えクエリ>3. 並べ替えクエリ</a></li><li><a href=#4-集計関数>4. 集計関数</a></li><li><a href=#5-データのグループ化>5. データのグループ化</a></li><li><a href=#6-テーブル接続クエリ>6. テーブル接続クエリ</a></li><li><a href=#7-サブクエリ>7. サブクエリ</a></li><li><a href=#8-クエリ結果の結合交差差の演算>8. クエリ結果の結合、交差、差の演算</a></li></ul></li><li><a href=#四dcl-データ制御言語>(四)、DCL データ制御言語</a><ul><li><a href=#データベースセキュリティ>データベースセキュリティ</a></li><li><a href=#自律アクセス制御>自律アクセス制御</a></li><li><a href=#データベースの役割>データベースの役割</a></li><li><a href=#ビューのメカニズム>ビューのメカニズム</a></li><li><a href=#監査>監査</a></li><li><a href=#データ暗号化>データ暗号化</a></li><li><a href=#インデックスを作成する>インデックスを作成する</a></li><li><a href=#インデックスの削除>インデックスの削除</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/ja/categories/%E6%8A%80%E8%A1%93%E7%A0%94%E4%BF%AE/>技術研修</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/ja/archives/88/>データベースの学習 3 SQL言語</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2023-02-08 08:00 +0800</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>読了時間: 18分</time></div></footer><footer class=post-tags><svg class="icon icon-tabler icon-tabler-tag" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7v3l9 9 7-7-9-9H8A2 2 0 006 5"/><path d="M9 8h-.01"/></svg>
<a href=/ja/tags/%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9/ target=_blank class="tag badge badge-secondary post-meta-detail-tag">データベース</a></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://blog.yexca.net/archives/88/ class=link>简体中文</a></div></footer></div></header><section class=article-content><blockquote><p>この記事は Google 翻訳を使用して処理されました</p><p><strong>SQL Series</strong></p><p>データベース学習 1 データベース入門:
<a class=link href=https://blog.yexca.net/ja/archives/86>https://blog.yexca.net/ja/archives/86</a><br>データベース学習 2 リレーショナル モデル:
<a class=link href=https://blog.yexca.net/archives/ja/87>https://blog.yexca.net/archives/ja/87</a><br>データベースの学習 3 SQL言語: 本文</p><p>以下のはまだ翻訳しないので、中国語（簡体字）のリンクだよ</p><p>数据库学习四 关系数据库理论:
<a class=link href=https://blog.yexca.net/archives/89>https://blog.yexca.net/archives/89</a><br>数据库学习五 范式:
<a class=link href=https://blog.yexca.net/archives/90>https://blog.yexca.net/archives/90</a><br>数据库学习六 数据库设计:
<a class=link href=https://blog.yexca.net/archives/91>https://blog.yexca.net/archives/91</a><br>数据库学习七 数据库的控制功能:
<a class=link href=https://blog.yexca.net/archives/92>https://blog.yexca.net/archives/92</a></p></blockquote><h2 id=sql言語の分類>SQL言語の分類</h2><ul><li>DDL（データ定義言語）</li></ul><p>データベースシステムでは、データベース内の各データベース、テーブル、ビュー、インデックスなどがデータベースオブジェクトです。データベースオブジェクトを作成または削除するには、SQL 言語を使用します。 DDL には <code>CREATE</code>、<code>ALTER</code>、<code>DROP</code> などが含まれます。</p><ul><li>DML（データ操作言語）</li></ul><p>DML は、<code>INSERT</code>、<code>DELETE</code>、<code>UPDATE</code> など、データベース内のデータを追加、変更、削除するために使用されるステートメントを指します。</p><ul><li>DQL (データクエリ言語)</li></ul><p>クエリはデータベースの基本機能であり、クエリ操作は SQL データ クエリ言語を通じて実装されます。たとえば、テーブルの内容を照会するには<code>SELECT</code>を使用します。</p><ul><li>DCL（データ制御言語）</li></ul><p>DCL には、データベース オブジェクトの権限管理やトランザクション管理などが含まれます。</p><h2 id=i-ddlデータ定義言語>(I) DDLデータ定義言語</h2><h3 id=1-データベースを作成する>1. データベースを作成する</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>database</span><span class=w> </span><span class=o>&lt;</span><span class=err>データベース名</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=2基本テーブルを作成します>2。基本テーブルを作成します</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=o>&lt;</span><span class=err>列名</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=err>データ型</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=err>列レベルの整合性制約</span><span class=p>],</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>[</span><span class=err>···</span><span class=p>,]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>[</span><span class=err>テーブルレベルの整合性制約</span><span class=p>,]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>[</span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=1-データタイプ>&lt;1> データタイプ</h4><ol><li><code>INT</code> / <code>INTEGER</code> : 整数</li><li><code>FLOAT(n)</code>: 少なくともn桁の精度を持つ浮動小数点数</li><li><code>NUMERIC(p, d)</code> / <code>DECIMAL(p, d)</code> / <code>DEC(p, d)</code>: p桁（符号と小数点を除く）のd桁の固定小数点数小数点以下の数字</li><li><code>CHAR(n)</code>: 長さnの固定長文字列</li><li>DATETIME: 日付と時刻の型</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>f1</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>f2</span><span class=w> </span><span class=nb>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=2-ラインレベルの整合性の制約>&lt;2> ラインレベルの整合性の制約</h4><ol><li><p>not null: 空ではない</p></li><li><p>unique: ユニーク</p></li><li><p>not null unique: 空ではなくユニーク</p></li><li><p>default: デフォルト値を定義する</p></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>f1</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- この列は空にできません
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>f2</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>unique</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- この列の値は空でも構いませんが、各行は異なる必要があります
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>f3</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>unique</span><span class=p>,</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 列は空ではなく、各行は異なります
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>f4</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=k>default</span><span class=w> </span><span class=s1>&#39;nashi&#39;</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>-- 新しく追加された行に値が割り当てられていない場合、この列はデフォルトで「nashi」になります。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=3-テーブルレベルの整合性の制約>&lt;3> テーブルレベルの整合性の制約</h4><div class=table-wrapper><table><thead><tr><th>名前</th><th>条項</th><th>通信の完全性</th></tr></thead><tbody><tr><td>主キー句</td><td>PRIMARY KEY</td><td>エンティティの整合性</td></tr><tr><td>チェック条項</td><td>CHECK</td><td>ユーザー定義の整合性</td></tr><tr><td>外部キー句</td><td>FOREIGN KEY</td><td>参照整合性</td></tr></tbody></table></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sid</span><span class=w> </span><span class=nb>int</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=p>(</span><span class=n>sid</span><span class=p>)</span><span class=w> </span><span class=c1>-- not null unique
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- または
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sid</span><span class=w> </span><span class=nb>int</span><span class=w> </span><span class=k>primary</span><span class=w> </span><span class=k>key</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>course</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>cid</span><span class=w> </span><span class=nb>int</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sid</span><span class=w> </span><span class=nb>int</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>score</span><span class=w> </span><span class=nb>int</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>check</span><span class=p>(</span><span class=n>score</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=mi>100</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>foreign</span><span class=w> </span><span class=k>key</span><span class=p>(</span><span class=n>sid</span><span class=p>)</span><span class=w> </span><span class=k>references</span><span class=w> </span><span class=n>student</span><span class=p>(</span><span class=n>sid</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=整合性の検査>整合性の検査</h4><ol><li>アサート（通常は推奨されません）</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>ASSERTION</span><span class=w> </span><span class=o>&lt;</span><span class=err>アサーション名</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=err>チェック条項</span><span class=o>&gt;</span><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- チェック句は、where 句の式に似ています。
</span></span></span><span class=line><span class=cl><span class=c1>-- アサーション名を削除
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>DROP</span><span class=w> </span><span class=k>ASSERTION</span><span class=w> </span><span class=o>&lt;</span><span class=err>断言名</span><span class=o>&gt;</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>トリガー</li></ol><p>テーブルが追加、削除、または変更されると、トリガー内の条件がチェックされます。条件が満たされている場合はトリガー内のアクションが実行され、満たされていない場合はアクションは実行されません。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=o>&lt;</span><span class=err>トリガー名</span><span class=o>&gt;</span><span class=w>           
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- トリガー イベントが発生するたびに、トリガーがアクティブになります。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>{</span><span class=k>BEFORE</span><span class=o>|</span><span class=k>AFTER</span><span class=err>}</span><span class=w> </span><span class=o>&lt;</span><span class=err>トリガーイベント</span><span class=o>&gt;</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- トリガー イベントの実行前または実行後にトリガーがアクティブ化されるかどうかを示します。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>REFERERCING</span><span class=w> </span><span class=k>NEW</span><span class=o>|</span><span class=k>OLD</span><span class=w> </span><span class=k>ROW</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=o>&lt;</span><span class=err>変数</span><span class=o>&gt;</span><span class=w>  
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- REFERENCINGは参照される変数を示す
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>FOR</span><span class=w> </span><span class=k>EACH</span><span class=err>{</span><span class=k>ROW</span><span class=o>|</span><span class=k>STATEMENT</span><span class=err>}</span><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- トリガーの種類を定義し、アクション本体の実行頻度を指定します。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=k>WHEN</span><span class=w> </span><span class=o>&lt;</span><span class=err>トリガーイベント</span><span class=o>&gt;</span><span class=p>]</span><span class=w> </span><span class=o>&lt;</span><span class=err>トリガーアクション本体</span><span class=o>&gt;</span><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- トリガーアクションはトリガー条件が真の場合にのみ実行されます
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- トリガーの削除
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>DROP</span><span class=w> </span><span class=k>TRIGGER</span><span class=w> </span><span class=o>&lt;</span><span class=err>トリガー名</span><span class=o>&gt;</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=3基本的なテーブル構造を変更します>3。基本的なテーブル構造を変更します</h3><ul><li>新しい列を追加する</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w> </span><span class=k>add</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=err>タイプ</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>test</span><span class=w> </span><span class=k>add</span><span class=w> </span><span class=n>f3</span><span class=w> </span><span class=n>datetime</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ul><li>列を変更する*</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w> </span><span class=k>alter</span><span class=w> </span><span class=k>column</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=err>新しいタイプ</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- MySQL
</span></span></span><span class=line><span class=cl><span class=c1>-- alter table &lt;テーブル名&gt; modify &lt;列名&gt; &lt;新しいタイプ&gt;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>test</span><span class=w> </span><span class=k>alter</span><span class=w> </span><span class=k>column</span><span class=w> </span><span class=n>f3</span><span class=w> </span><span class=nb>float</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- alter table test modify f3 float
</span></span></span></code></pre></td></tr></table></div></div><ul><li>列の削除</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w> </span><span class=k>drop</span><span class=w> </span><span class=k>column</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- MySQL
</span></span></span><span class=line><span class=cl><span class=c1>-- alter table &lt;テーブル名&gt; drop &lt;列名&gt;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>alter</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>test</span><span class=w> </span><span class=k>drop</span><span class=w> </span><span class=k>column</span><span class=w> </span><span class=n>f3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- alter table test drop f3
</span></span></span></code></pre></td></tr></table></div></div><h3 id=4基本テーブルを削除します>4。基本テーブルを削除します</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>drop</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>drop</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>test</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=二dml-データ操作言語>(二)、DML データ操作言語</h2><p>次のコンテンツの例は、これらのテーブルに基づいています</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 注: 理解しやすいように中国語を使用しています。実際の開発では英語を使用してください。
</span></span></span><span class=line><span class=cl><span class=c1>-- 学生テーブル
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>学号</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>unique</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>姓名</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>8</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>性别</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>出生日期</span><span class=w> </span><span class=n>datetime</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>班号</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 成績テーブル
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>学号</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>5</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>课程号</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>5</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>分数</span><span class=w> </span><span class=nb>int</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 教師テーブル
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>teacher</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>教师编号</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>unique</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>姓名</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>8</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>性别</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>出生日期</span><span class=w> </span><span class=n>datetime</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>职称</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>6</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>系别</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- コーススケジュール
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>course</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>课程号</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w> </span><span class=k>unique</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>课程名</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=err>任课教师编号</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=1-insert-ステートメントを挿入>1. INSERT ステートメントを挿入</h3><p>SQL基本テーブルにデータを挿入する方法は2つあります。タプル値を直接挿入するか、クエリの結果値を挿入するかです。</p><ol><li>タプル値を直接挿入する</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=err>テーブル名</span><span class=p>[(</span><span class=err>列名の順序</span><span class=p>)]</span><span class=w> </span><span class=k>values</span><span class=w> </span><span class=p>(</span><span class=err>タプル値</span><span class=p>)[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 或者
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=err>テーブル名</span><span class=p>[(</span><span class=err>列名の順序</span><span class=p>)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=k>table</span><span class=w> </span><span class=p>(</span><span class=err>タプル値</span><span class=p>)[,</span><span class=w> </span><span class=p>(</span><span class=err>タプル値</span><span class=p>),</span><span class=w> </span><span class=err>···</span><span class=p>])</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 例如
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>values</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;108&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;张三&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2000-01-01&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;09033&#39;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>(</span><span class=s1>&#39;109&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;李四&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2000-05-05&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;09034&#39;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 指定した列を挿入する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>student</span><span class=p>(</span><span class=err>学号，姓名，性别，出生日期</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>values</span><span class=w> </span><span class=p>(</span><span class=mi>110</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;王五&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2000-04-18&#39;</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>クエリの結果値を挿入する</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=err>テーブル名</span><span class=p>[(</span><span class=err>列名の順序</span><span class=p>)]</span><span class=w> </span><span class=k>select</span><span class=w> </span><span class=o>&lt;</span><span class=err>クエリステートメント</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=mi>111</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;赵六&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;男&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;2000-03-19&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;09035&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=2-delete-削除ステートメント>2. DELETE 削除ステートメント</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>where</span><span class=w> </span><span class=o>&lt;</span><span class=err>条件式</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=c1>-- テーブル全体を削除する
</span></span></span><span class=line><span class=cl><span class=c1>-- 生徒番号111のタプルを削除します
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>学号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>111</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=3-update-ステートメントを修正>3. UPDATE ステートメントを修正</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>update</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>set</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=o>&gt;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>&lt;</span><span class=err>価値表現</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>where</span><span class=w> </span><span class=o>&lt;</span><span class=err>条件式</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>update</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>set</span><span class=w> </span><span class=err>班号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;09058&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>学号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>110</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- または
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>update</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>set</span><span class=w> </span><span class=err>班号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;09057&#39;</span><span class=p>,</span><span class=w> </span><span class=err>性别</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;女&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>学号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>110</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=err>班号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;09058&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=三dql-データクエリ言語>(三)、DQL データクエリ言語</h2><p>SQL データクエリ機能は SELECT 文を通じて実装されます。完全な構文は次のとおりです。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=o>&lt;</span><span class=err>対象テーブルの列名または列式のシーケンス</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=o>&lt;</span><span class=err>リレーションテーブルシーケンス</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>where</span><span class=w> </span><span class=o>&lt;</span><span class=err>行条件式</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名の順序</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>having</span><span class=w> </span><span class=o>&lt;</span><span class=err>グループ条件式</span><span class=o>&gt;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=o>&gt;</span><span class=w> </span><span class=p>[</span><span class=k>asc</span><span class=o>|</span><span class=k>desc</span><span class=p>]]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=1-投影クエリ>1. 投影クエリ</h3><p>クエリ テーブル内の任意の列を選択するには、<code>SELECT</code> コマンドを使用します。複数の列がある場合は、カンマ <code>,</code> を使用して区切ります。 <code>FROM</code>句に複数のリレーショナルテーブルがある場合、各テーブルの名前を記述する必要があります。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=mi>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=err>学号</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>100</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 学生IDとスコアを照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=err>学号</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=err>分数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- すべての列をクエリする
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>重複行を削除するには <code>DISTINCT</code> を使用します</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 重複行を削除し、選択したコースを照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>distinct</span><span class=w> </span><span class=err>课程号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>クエリ結果の列名をカスタマイズするには <code>AS</code> を使用します</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>学号</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=s1>&#39;sno&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=2-クエリを選択>2. クエリを選択</h3><p>選択クエリは、クエリ条件を指定し、ソース テーブルからクエリ条件を満たすレコードのみを抽出または表示します。</p><p>選択クエリでは通常、次の種類の操作が使用されます。</p><div class=table-wrapper><table><thead><tr><th>オペレーター</th><th>コード</th><th>説明する</th></tr></thead><tbody><tr><td>セットメンバーシップ演算子</td><td>IN<br>NOT IN</td><td>セット内<br>セットに含まれない</td></tr><tr><td>文字列マッチング演算子</td><td>LIKE</td><td><code>_</code> および <code>%</code> を使用した単一または複数の文字の一致</td></tr><tr><td>NULL比較演算子</td><td>IS NULL<br>IS NOT NULL</td><td>空の<br>空にすることはできません</td></tr><tr><td>算術演算子</td><td>><br>>=<br>&#171;br />&lt;=<br>=<br>&lt;></td><td>より大きい<br>より大きいか等しい<br>未満<br>以下<br>等しい<br>等しくない</td></tr></tbody></table></div><h4 id=1-条件式の比較演算>&lt;1> 条件式の比較演算</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>--- スコアが60～80のレコードを検索する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>分数</span><span class=w> </span><span class=k>between</span><span class=w> </span><span class=mi>60</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=mi>80</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 60と80を含めるにはbetweenを使用します。つまり[60, 80]です。
</span></span></span><span class=line><span class=cl><span class=c1>-- スコア &gt;= 60 かつスコア &lt;= 80 の場合と同等
</span></span></span></code></pre></td></tr></table></div></div><h4 id=2-文字列マッチング操作>&lt;2> 文字列マッチング操作</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>where</span><span class=w> </span><span class=p>[</span><span class=k>not</span><span class=p>]</span><span class=w> </span><span class=k>like</span><span class=w> </span><span class=s1>&#39;一致する文字列&#39;</span><span class=w> </span><span class=p>[</span><span class=k>escape</span><span class=w> </span><span class=s1>&#39;一致する文字列&#39;</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><code>'一致文字列'</code> は完全な文字列にすることも、ワイルドカード文字 <code>%</code> と <code>_</code> を含めることもできます。</p><ul><li>%: 任意の長さの文字を表します</li><li>_ : 任意の1文字を表す</li></ul><h4 id=3-集合の比較演算>&lt;3> 集合の比較演算</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- スコアが85、86、または88のレコードをクエリします
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>分数</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=p>(</span><span class=mi>85</span><span class=p>,</span><span class=w> </span><span class=mi>86</span><span class=p>,</span><span class=w> </span><span class=mi>88</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=4-論理的結合演算>&lt;4> 論理的結合演算</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- クラス09031の女子生徒全員を照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>班号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;09031&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=err>性别</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;女&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=3-並べ替えクエリ>3. 並べ替えクエリ</h3><p>クエリ結果は<code>ORDER BY</code>句を使用して並べ替えることができます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 昇順 asc (デフォルト、省略可能)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>学号</span><span class=p>,</span><span class=w> </span><span class=err>姓名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>学号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 降順 desc
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>学号</span><span class=p>,</span><span class=w> </span><span class=err>姓名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>学号</span><span class=w> </span><span class=k>desc</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>複数の列を指定して並べ替えることもできます。最初の列が最初に並べ替えられ、次に2番目の列が並べ替えられます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- コース番号の昇順とスコアの降順で検索結果を表示します
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>课程号</span><span class=w> </span><span class=k>asc</span><span class=p>,</span><span class=w> </span><span class=err>分数</span><span class=w> </span><span class=k>desc</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p><code>ORDER BY</code> 句はクエリの最後に配置する必要があります。</p></blockquote><h3 id=4-集計関数>4. 集計関数</h3><p>集計関数は、データ統計やその他の機能を実装します。一連の値を計算し、単一の値を返すために使用されます。</p><p>通常は <code>group by</code> 句とともに使用される一般的な集計関数は次のとおりです。</p><div class=table-wrapper><table><thead><tr><th>関数名</th><th>説明</th></tr></thead><tbody><tr><td>AVG</td><td>平均値</td></tr><tr><td>COUNT</td><td>指定された式で選択された項目の数をカウントします<br>COUNT(*)はクエリによって出力された行数をカウントします</td></tr><tr><td>MIN</td><td>最小値</td></tr><tr><td>MAX</td><td>最大値</td></tr><tr><td>SUM</td><td>値の合計</td></tr><tr><td>STDWV</td><td>指定された式のすべてのデータの標準偏差を計算します</td></tr><tr><td>STDEVP</td><td>母集団標準偏差</td></tr></tbody></table></div><p>集計関数の引数の一般的な形式は次のとおりです。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=p>[</span><span class=k>all</span><span class=o>|</span><span class=k>distinct</span><span class=p>]</span><span class=w> </span><span class=n>expr</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>このうち、<code>ALL</code> はすべての値に対して集計関数演算を実行することを意味し、これがデフォルト値となります。また、<code>DISTINCT</code> は、すべての一意の値が考慮されることを指定します。 <code>expr</code>は式です</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- クラス「09031」の生徒数を照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=k>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=s1>&#39;人数&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>班号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;09031&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=5-データのグループ化>5. データのグループ化</h3><p>集計関数は1つの結果しか出力しないため、列をクエリして集計関数をまとめるとエラーが報告されます。</p><p>特定のカテゴリの集計関数の結果は、データをグループ化することで計算できます。つまり、集計関数の範囲は各グループ内のすべてのレコードになります。</p><p>集計関数をフィルター条件として使用する場合は、それを <code>HAVING</code> 句の後に置く必要があります。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 最低スコアが 70 を超え、最高スコアが 90 未満の学生の学生 ID を照会します。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>学号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>分数</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>学号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>having</span><span class=w> </span><span class=k>min</span><span class=p>(</span><span class=err>分数</span><span class=p>)</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>70</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=k>max</span><span class=p>(</span><span class=err>分数</span><span class=p>)</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>90</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>クエリ内に <code>WHERE</code> 句、<code>GROUP BY</code> 句、<code>HAVING</code> 句、および集計関数が同時に出現する場合、<code>SELECT</code> コマンドの実行順序は次のようになります。</p><ol><li><code>WHERE</code>句を実行してテーブルから行を選択します</li><li>選択した行を「GROUP BY」でグループ化する</li><li>集計関数を実行する</li><li><code>HAVING</code>句を実行して条件を満たすグループを選択します。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 各コースの平均スコアを照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>课程号</span><span class=p>,</span><span class=w> </span><span class=k>avg</span><span class=p>(</span><span class=err>分数</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>group</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=err>课程号</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>集計関数は条件として <code>HAVING</code> 句の後にのみ配置でき、 <code>WHERE</code> 句の後には配置できません。</p><p><code>SELECT</code>句が<em>列名</em>と<em>集計関数</em>で構成されている場合、すべての<em>列名</em>をグループ化する必要があります。</p></blockquote><h3 id=6-テーブル接続クエリ>6. テーブル接続クエリ</h3><p><code>FROM</code> 句では結合するテーブルを指定し、<code>WHERE</code> 句では結合条件を指定します。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=o>&lt;</span><span class=err>列名</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=o>&lt;</span><span class=err>表</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>接続条件</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>2つのテーブルの共通列には、<code>student.学号</code>などのプレフィックスを指定する必要があります。</p><p>SQL Server では、接続は内部接続と外部接続に分けられます。</p><h4 id=1-内部結合>&lt;1> 内部結合</h4><p>Θ 結合、等価結合、自然結合</p><p>内部結合は最も基本的な結合方法です。<code>INNER JOIN</code> キーワードを使用します。このキーワードを使用しない場合、デフォルトは内部結合になります。</p><ol><li>等接続</li></ol><p>つまり、2つのテーブル間の接続関係は「等しい」です。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- すべての学生の名前、コース番号、スコアの列を照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=err>姓名</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=err>课程号</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=err>分数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=err>学号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=err>学号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- したがって
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=err>姓名</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=err>课程号</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=err>分数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>inner</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>score</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>on</span><span class=w> </span><span class=n>student</span><span class=p>.</span><span class=err>学号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>score</span><span class=p>.</span><span class=err>学号</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>入力を簡略化するために、テーブルエイリアスを使用することができます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 前の例の簡略化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=err>姓名</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=err>课程号</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=err>分数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=n>y</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=err>学号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=err>学号</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>非等価結合</li></ol><p>つまり、2つのテーブル間の接続関係は「等しい」ではない。</p><ol start=3><li>自己接続</li></ol><p>同じテーブルを結合することを自己結合と呼びます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- &#39;3-105&#39; を受験し、そのスコアが生徒 &#39;109&#39; のスコアより高い生徒の記録を照会します。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=err>课程号</span><span class=p>,</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=err>学号</span><span class=p>,</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=err>分数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=n>y</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=err>课程号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=err>分数</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=err>分数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=k>and</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=err>学号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;109&#39;</span><span class=w> </span><span class=k>and</span><span class=w> </span><span class=n>y</span><span class=p>.</span><span class=err>课程号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;3-105&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>order</span><span class=w> </span><span class=k>by</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=err>分数</span><span class=w> </span><span class=k>desc</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=2-外部結合-outer-join>&lt;2> 外部結合 OUTER JOIN</h4><p>左外部結合: LEFT OUTER JOIN または LEFT JOIN</p><p>右外部結合: RIGHT OUTER JOIN または RIGHT JOIN</p><p>完全外部結合: FULL OUTER JOIN または FULL JOIN</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 左外部結合の例
</span></span></span><span class=line><span class=cl><span class=c1>-- すべてのコースの教師の名前を照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=n>course</span><span class=p>.</span><span class=err>课程名</span><span class=p>,</span><span class=w> </span><span class=n>teacher</span><span class=p>.</span><span class=err>姓名</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=k>left</span><span class=w> </span><span class=k>join</span><span class=w> </span><span class=n>teacher</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>on</span><span class=w> </span><span class=p>(</span><span class=n>course</span><span class=p>.</span><span class=err>任课教师编号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>teacher</span><span class=p>.</span><span class=err>教师编号</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=7-サブクエリ>7. サブクエリ</h3><h4 id=1-一般的なサブクエリ>&lt;1> 一般的なサブクエリ</h4><p>あるクエリが別のクエリの条件である場合、つまり、テーブルから行を選択する条件がテーブル自体または他のテーブルの結合情報に依存する場合、サブクエリを実装する必要があります。</p><p>サブクエリは、<code>SELECT</code> ステートメントの <code>WHERE</code> 句で最もよく使用されます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 学生番号「105」の学生と同じ年に生まれた学生を検索します
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>学号</span><span class=p>,</span><span class=w> </span><span class=err>姓名</span><span class=p>,</span><span class=w> </span><span class=k>year</span><span class=p>(</span><span class=err>出生日期</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=s1>&#39;出生年份&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=k>year</span><span class=p>(</span><span class=err>出生日期</span><span class=p>)</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>						</span><span class=k>select</span><span class=w> </span><span class=k>year</span><span class=p>(</span><span class=err>出生日期</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    					</span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    					</span><span class=k>where</span><span class=w> </span><span class=err>学号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;105&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>						</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=2-相関サブクエリ>&lt;2> 相関サブクエリ</h4><p>通常のサブクエリでは、各サブクエリは 1 回だけ実行され、返された値はメインクエリの <code>WHERE</code> 句で使用されます。</p><p>メイン クエリが各行を選択するかどうかを判断するときは、サブクエリを「起動」し、メイン クエリにフィードバックする必要があります。つまり、内部条件に外部属性が含まれるサブクエリは相関サブクエリと呼ばれます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- コースの平均スコアよりも低いスコアを持つ学生を照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>学号</span><span class=p>,</span><span class=w> </span><span class=err>课程号</span><span class=p>,</span><span class=w> </span><span class=err>分数</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=n>a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=err>分数</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>				</span><span class=k>select</span><span class=w> </span><span class=k>avg</span><span class=p>(</span><span class=err>分数</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    			</span><span class=k>from</span><span class=w> </span><span class=n>score</span><span class=w> </span><span class=n>b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    			</span><span class=k>where</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=err>课程号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=err>课程号</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    				</span><span class=k>and</span><span class=w> </span><span class=err>分数</span><span class=w> </span><span class=k>is</span><span class=w> </span><span class=k>not</span><span class=w> </span><span class=k>null</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>				</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=3-exists-テストを含むサブクエリ>&lt;3> EXISTS テストを含むサブクエリ</h4><p><code>EXISTS</code> は存在量指定子 ∃ を表し、論理真または論理偽の値のみを返します。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- すべての教師の名前と部門を照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>姓名</span><span class=p>,</span><span class=w> </span><span class=err>系别</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>teacher</span><span class=w> </span><span class=n>a</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>where</span><span class=w> </span><span class=k>exists</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>				</span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    			</span><span class=k>from</span><span class=w> </span><span class=n>course</span><span class=w> </span><span class=n>b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    			</span><span class=k>where</span><span class=w> </span><span class=n>a</span><span class=p>.</span><span class=err>教师编号</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=err>任课教师编号</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>				</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>あるいは、結果を否定する「NOT EXISTS」がある。</p><h3 id=8-クエリ結果の結合交差差の演算>8. クエリ結果の結合、交差、差の演算</h3><p>次の演算子を使用して、2 つの <code>SELECT</code> クエリの結果に対して操作を実行できます。</p><ul><li>UNION : および</li><li>交差:</li><li>例外: 差異</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- ANDの例
</span></span></span><span class=line><span class=cl><span class=c1>-- すべての教師と生徒の名前、性別、生年月日を照会する
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>select</span><span class=w> </span><span class=err>姓名</span><span class=p>,</span><span class=w> </span><span class=err>性别</span><span class=p>,</span><span class=w> </span><span class=k>year</span><span class=p>(</span><span class=err>出生日期</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=s1>&#39;出生年份&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>teacher</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>union</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>select</span><span class=w> </span><span class=err>姓名</span><span class=p>,</span><span class=w> </span><span class=err>性别</span><span class=p>,</span><span class=w> </span><span class=k>year</span><span class=p>(</span><span class=err>出生日期</span><span class=p>)</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=s1>&#39;出生年份&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- order by 生年
</span></span></span></code></pre></td></tr></table></div></div><h2 id=四dcl-データ制御言語>(四)、DCL データ制御言語</h2><p>データ制御は、ユーザーのデータ保存権限を制御し、DBA（データベース管理者）によって決定されます。</p><h3 id=データベースセキュリティ>データベースセキュリティ</h3><p>不安要素:</p><ol><li>データベースへの不正アクセスと破壊</li><li>データベースから重要なデータが漏洩</li><li>安全保障環境の脆弱性</li></ol><p>セキュリティコントロール:</p><ol><li>ユーザーID認証: 静的パスワード認証、動的パスワード認証、生体認証、スマートカード認証</li><li>アクセス制御</li><li>自律的なアクセス制御方式（ユーザーが操作権限をカスタマイズし、他のユーザーに割り当てることができる）</li></ol><h3 id=自律アクセス制御>自律アクセス制御</h3><p>DBMS（データベース管理システム）データ制御には以下の機能が必要です</p><ol><li><code>GRANT</code>と<code>REVOKE</code>を通じてシステムに権限を通知し、データ辞書に保存する</li><li>ユーザーがリクエストを行った場合、認可ステータスに基づいて操作リクエストを実行するかどうかを確認します。</li></ol><p>SQL 標準には、<code>DELETE</code>、<code>INSERT</code>、<code>SELECT</code>、および <code>UPDATE</code> 権限が含まれます。 <code>SELETE</code> 権限は <code>READ</code> 権限に対応します。SQL には <code>REFERENCES</code> 権限も含まれており、これはリレーションを作成するときにユーザーが外部キーを定義する機能を制限するために使用されます。</p><h4 id=1-認可ステートメントの形式>1. 認可ステートメントの形式</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>grant</span><span class=w> </span><span class=o>&lt;</span><span class=err>権限</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>on</span><span class=w> </span><span class=o>&lt;</span><span class=err>オブジェクトタイプ</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=err>オブジェクト名</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>to</span><span class=w> </span><span class=o>&lt;</span><span class=err>ユーザー</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>with</span><span class=w> </span><span class=k>grant</span><span class=w> </span><span class=k>option</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>操作オブジェクトの種類によって権限は異なります。一般的な権限は次のとおりです。</p><div class=table-wrapper><table><thead><tr><th>オブジェクト</th><th>オブジェクトタイプ</th><th>操作権限</th></tr></thead><tbody><tr><td>属性列</td><td>TABLE</td><td>SELECT、INSERT、UPDATE、DELETE、<br>ALL PRIVILEGES (4つの権限の合計)</td></tr><tr><td>ビュー</td><td>TABLE</td><td>SELECT、INSERT、UPDATE、DELETE、<br>ALL PRIVILEGES (4つの権限の合計)</td></tr><tr><td>基本テーブル</td><td>TABLE</td><td>SELECT、INSERT、UPDATE、DELETE、ALTER、INDEX<br>ALL PRIVILEGES (6つの権限の合計)</td></tr><tr><td>データベース</td><td>DATABASE</td><td>CREATETAB テーブルを作成する権限。DBA が一般ユーザーに付与できます。</td></tr></tbody></table></div><ul><li>PUBLIC: 権限を受け取るユーザーは、単一のユーザーまたは複数の特定のユーザーです。<code>PUBLIC</code> パラメータは、すべてのユーザーに権限を付与できます。</li><li>GRANT OPTION付き: この句が指定されている場合、権限を取得したユーザーは他のユーザーに権限を付与することもできます。</li></ul><h4 id=2-権限取り消しステートメントの形式>2. 権限取り消しステートメントの形式</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>revoke</span><span class=w> </span><span class=o>&lt;</span><span class=err>権限</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>on</span><span class=w> </span><span class=o>&lt;</span><span class=err>オブジェクトタイプ</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=err>オブジェクト名</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>from</span><span class=w> </span><span class=o>&lt;</span><span class=err>ユーザー</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=データベースの役割>データベースの役割</h3><p>役割とは、CEO、取締役、一般従業員など、人物のタイプを指します。人物のタイプを承認できます。</p><ol><li>キャラクター作成</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>role</span><span class=w> </span><span class=o>&lt;</span><span class=err>キャラクター名</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>ロールの承認</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>grant</span><span class=w> </span><span class=o>&lt;</span><span class=err>権限</span><span class=o>&gt;</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=o>&lt;</span><span class=err>オブジェクトタイプ</span><span class=o>&gt;</span><span class=w> </span><span class=o>&lt;</span><span class=err>オブジェクト名</span><span class=o>&gt;</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=o>&lt;</span><span class=err>役割</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>[,</span><span class=w> </span><span class=err>···</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li>他のユーザーまたはロールにロールを付与する</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>grant</span><span class=w> </span><span class=o>&lt;</span><span class=err>役割</span><span class=o>&gt;</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=o>&lt;</span><span class=err>役割</span><span class=o>&gt;</span><span class=err>または</span><span class=o>&lt;</span><span class=err>ユーザー名</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>with</span><span class=w> </span><span class=k>admin</span><span class=w> </span><span class=k>option</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><code>with admin option</code> は、このユーザーが他のロールまたはユーザーにこの権限を付与できることを意味します。</p><ol start=4><li>ロール権限の取り消し</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>revoke</span><span class=w> </span><span class=o>&lt;</span><span class=err>権限</span><span class=o>&gt;</span><span class=w> </span><span class=k>on</span><span class=w> </span><span class=o>&lt;</span><span class=err>オブジェクト名</span><span class=o>&gt;</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=o>&lt;</span><span class=err>キャラクター名</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=ビューのメカニズム>ビューのメカニズム</h3><p>ビューは、1 つ以上の基本テーブルまたはビューから派生したテーブルです。これは仮想テーブルです。</p><p>ユーザーごとに異なるビューを定義し、ユーザーが間違いを起こさないように不要なデータを非表示にします。</p><h4 id=ビューの作成>ビューの作成</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=k>view</span><span class=w> </span><span class=o>&lt;</span><span class=err>ビュー名</span><span class=p>(</span><span class=err>リスト名</span><span class=p>)</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>as</span><span class=w> </span><span class=k>select</span><span class=w> </span><span class=o>&lt;</span><span class=err>クエリ句</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>[</span><span class=k>with</span><span class=w> </span><span class=k>check</span><span class=w> </span><span class=k>option</span><span class=p>]</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol><li>サブクエリの<code>SELECT</code>文には通常、<code>ORDER BY</code>句と<code>DISTINCT</code>文を含めることはできません。</li><li><code>WITH CHECK OPTION</code> は、<code>UPDATE</code>、<code>INSERT</code>、および <code>DELETE</code> 操作の場合、操作対象の行がビュー定義の述語条件 (つまり、サブクエリの条件式) を満たす必要があることを意味します。</li><li>ビューを構成する属性列名がすべて省略されているか、すべて指定されています。省略した場合、ビューは <code>SELECT</code> サブクエリのターゲット列のプライマリ属性で構成されていることが暗黙的に示されます。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 関係モデル：student(sno, sname, sex, SD, email)
</span></span></span><span class=line><span class=cl><span class=c1>-- 「コンピュータサイエンス（CS）」の学生向けのビューを作成し、変更操作を実行する場合
</span></span></span><span class=line><span class=cl><span class=c1>-- ビュー内のコンピュータサイエンスの学生のみが影響を受けるようにする
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>create</span><span class=w> </span><span class=k>view</span><span class=w> </span><span class=n>cs</span><span class=o>-</span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>as</span><span class=w> </span><span class=k>select</span><span class=w> </span><span class=n>sno</span><span class=p>,</span><span class=w> </span><span class=n>sname</span><span class=p>,</span><span class=w> </span><span class=n>sex</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>from</span><span class=w> </span><span class=n>student</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>where</span><span class=w> </span><span class=n>SD</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;CS&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>with</span><span class=w> </span><span class=k>check</span><span class=w> </span><span class=k>option</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h4 id=ビューの削除>ビューの削除</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>drop</span><span class=w> </span><span class=k>view</span><span class=w> </span><span class=o>&lt;</span><span class=err>ビュー名</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>--例えば
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>drop</span><span class=w> </span><span class=k>view</span><span class=w> </span><span class=n>cs</span><span class=o>-</span><span class=n>student</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=監査>監査</h3><p>データベースに対するすべての操作は監査ログに記録され、そのログを使用して不正な動作があるかどうかを確認できます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=c1>-- 「SC」データを変更する監査操作
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>AUDIT</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>SC</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-- 「SC」テーブルのすべての監査をキャンセルします
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NOAUDIT</span><span class=w> </span><span class=k>UPDATE</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>SC</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=データ暗号化>データ暗号化</h3><p>いくつかの暗号化アルゴリズムにより、プレーンテキストは暗号テキストに変換され、他の人が閲覧できなくなります。</p><p>＃＃ 索引</p><p>インデックスを使用すると、データベース プログラムはテーブル全体をスキャンしなくても、テーブル内の必要なデータを見つけることができます。</p><p>データベースのインデックスは、テーブルの 1 つ以上の列の値のコレクションと、これらの値を物理的に識別するテーブル内のデータ ページへの論理ポインターの対応するリストです。</p><p>内部スキーマによって定義されます（内部スキーマはすべての内部レコードタイプ、インデックス、およびファイル構成を定義します）</p><h3 id=インデックスを作成する>インデックスを作成する</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>create</span><span class=w> </span><span class=p>[</span><span class=k>unique</span><span class=p>]</span><span class=w> </span><span class=p>[</span><span class=k>cluster</span><span class=p>]</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=o>&lt;</span><span class=err>インデックス名</span><span class=o>&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=k>on</span><span class=w> </span><span class=o>&lt;</span><span class=err>テーブル名</span><span class=o>&gt;</span><span class=p>(</span><span class=err>列名</span><span class=p>[</span><span class=err>順序</span><span class=p>],</span><span class=w> </span><span class=err>···</span><span class=p>)</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>順序：オプション<code>ASC</code>（デフォルト）または <code>DSC</code></p><p><code>UNIQUE</code> ：このインデックスの各インデックス値が 1 つのデータ レコードのみに対応することを示します。</p><p><code>CLUSTER</code> ：作成されるインデックスがクラスター化インデックスであることを示します。つまり、インデックス項目の順序は、テーブル内のレコードの物理的な順序と一致します。</p><h3 id=インデックスの削除>インデックスの削除</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>drop</span><span class=w> </span><span class=k>index</span><span class=w> </span><span class=o>&lt;</span><span class=err>インデックス</span><span class=o>&gt;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/ja/tags/%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9/>データベース</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>This post is licensed under CC BY-NC-SA 4.0 by the author.</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-article");renderMathInElement(e,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>関連するコンテンツ</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/ja/archives/87/><div class=article-details><h2 class=article-title>データベース学習 2 リレーショナル モデル</h2></div></a></article><article><a href=/ja/archives/86/><div class=article-details><h2 class=article-title>データベース学習 1 データベース入門</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.39/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send{color:var(--twikoo-body-text-color-main)}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://twikoo-jade-one.vercel.app/",el:"#tcomment"})</script><footer class=site-footer><section class=copyright>&copy;
2021 -
2025 <a href=https://blog.yexca.net target=_blank class=link rel=noopener>yexca</a></section><section class=powerby><p><span id=htmer_time style=color:var(--themecolor)></span></p><img src=https://count.getloli.com/@yexca><p>Visits Since 2025-02-28</p><a href=https://gohugo.io/ target=_blank class=link rel=noopener>Hugo</a> で構築されています。 <span>|</span>
テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank class=link rel=noopener data-version=3.29.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank class=link rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script>function secondToDate(e){if(!e)return 0;var t=new Array(0,0,0,0,0);return e>=365*24*3600&&(t[0]=parseInt(e/(365*24*3600)),e%=365*24*3600),e>=24*3600&&(t[1]=parseInt(e/(24*3600)),e%=24*3600),e>=3600&&(t[2]=parseInt(e/3600),e%=3600),e>=60&&(t[3]=parseInt(e/60),e%=60),e>0&&(t[4]=e),t}</script><script type=text/javascript language=javascript>function setTime(){var e=Math.round(new Date(Date.UTC(2021,10,6,14,15,19)).getTime()/1e3),t=Math.round(((new Date).getTime()+8*60*60*1e3)/1e3);currentTime=secondToDate(t-e),currentTimeHtml="This blog has been running for "+currentTime[0]+" years "+currentTime[1]+" days "+currentTime[2]+" hours "+currentTime[3]+" minutes "+currentTime[4]+" seconds",document.getElementById("htmer_time").innerHTML=currentTimeHtml}setInterval(setTime,1e3)</script></body></html>