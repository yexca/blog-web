<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="📢 この記事は gemini-3-flash-preview によって翻訳されました 第3章 shellを使う この章で紹介する Linux shell は Bash shell と呼ばれるもので、正式名称は Bourne Again shell だよ。他にも、BSD UNIX ユーザーに人気の C shell (csh) や、UNIX System V ユーザーに普及している Korn shell (ksh) 、Ubuntu でデフォルトで起動する Dash shell (Bash より高速) 、改良版 C shell の Tcsh shell 、Bourne shell によく似た Ash shell などがあるんだ。\n"><title>Linux学習 第3章 shellを使う</title>
<link rel=canonical href=https://blog.yexca.net/ja/archives/69/><link rel=stylesheet href=/scss/style.min.8f98047b6cd92c22e3d38a3ba5f536200fbbb6bd864cd97459941f4e9e6a26d3.css><meta property='og:title' content="Linux学習 第3章 shellを使う"><meta property='og:description' content="📢 この記事は gemini-3-flash-preview によって翻訳されました 第3章 shellを使う この章で紹介する Linux shell は Bash shell と呼ばれるもので、正式名称は Bourne Again shell だよ。他にも、BSD UNIX ユーザーに人気の C shell (csh) や、UNIX System V ユーザーに普及している Korn shell (ksh) 、Ubuntu でデフォルトで起動する Dash shell (Bash より高速) 、改良版 C shell の Tcsh shell 、Bourne shell によく似た Ash shell などがあるんだ。\n"><meta property='og:url' content='https://blog.yexca.net/ja/archives/69/'><meta property='og:site_name' content="yexca'Blog"><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='Linux'><meta property='article:tag' content='読書ノート'><meta property='article:published_time' content='2022-09-12T15:04:10+08:00'><meta property='article:modified_time' content='2022-09-12T15:04:10+08:00'><meta name=twitter:site content="@yexcano"><meta name=twitter:creator content="@yexcano"><meta name=twitter:title content="Linux学習 第3章 shellを使う"><meta name=twitter:description content="📢 この記事は gemini-3-flash-preview によって翻訳されました 第3章 shellを使う この章で紹介する Linux shell は Bash shell と呼ばれるもので、正式名称は Bourne Again shell だよ。他にも、BSD UNIX ユーザーに人気の C shell (csh) や、UNIX System V ユーザーに普及している Korn shell (ksh) 、Ubuntu でデフォルトで起動する Dash shell (Bash より高速) 、改良版 C shell の Tcsh shell 、Bourne shell によく似た Ash shell などがあるんだ。\n"><link rel="shortcut icon" href=/favicon.ico><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.yexca.net\/ja\/archives\/69\/"},"headline":"Linux学習 第3章 shellを使う","name":"yexca'Blog","author":{"@type":"Person","name":"yexca"},"publisher":{"@type":"Person","name":"yexca'Blog"},"datePublished":"2022-09-12","dateModified":"2022-09-12","inLanguage":"ja","description":"yexca の技術と生活のブログ。プログラミングや日常の記録を掲載。"}</script><link rel=alternate hreflang=x-default href=https://blog.yexca.net/><link rel=alternate hreflang=zh-CN href=https://blog.yexca.net/><link rel=alternate hreflang=zh-TW href=https://blog.yexca.net/zh-tw/><link rel=alternate hreflang=ja href=https://blog.yexca.net/ja/><link rel=alternate hreflang=en href=https://blog.yexca.net/en/><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Noto+Sans+JP:wght@100..900&family=Noto+Sans+SC:wght@100..900&family=Noto+Sans+TC:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Yomogi&display=swap" rel=stylesheet></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/ja/><img src=/img/avatar_hu16531030078560657968.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/ja>yexca'Blog</a></h1><h2 class=site-description>この世で道が尽きることはなく、行きたいと望む心があれば、道は必ず足元に広がる</h2></div></header><ol class=menu-social><li><a href=https://github.com/yexca target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:blog@yexca.net target=_blank title=Mail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://t.me/yexca target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=/ja/feed.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/ja/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ホーム</span></a></li><li><a href=/ja/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>アーカイブ</span></a></li><li><a href=/ja/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>検索</span></a></li><li><a href=/ja/background/><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>背景</span></a></li><li><a href=/ja/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>リンク</span></a></li><li><a href=/ja/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>について</span></a></li><li><a href=/ja/support/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-coffee"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 14c.83.642 2.077 1.017 3.5 1 1.423.017 2.67-.358 3.5-1s2.077-1.017 3.5-1c1.423-.017 2.67.358 3.5 1"/><path d="M8 3A2.4 2.4.0 007 5a2.4 2.4.0 001 2"/><path d="M12 3a2.4 2.4.0 00-1 2 2.4 2.4.0 001 2"/><path d="M3 10h14v5a6 6 0 01-6 6H9a6 6 0 01-6-6v-5z"/><path d="M16.746 16.726a3 3 0 10.252-5.555"/></svg>
<span>応援</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://blog.yexca.net/>简体中文</option><option value=https://blog.yexca.net/zh-tw/>正體中文</option><option value=https://blog.yexca.net/en/>English</option><option value=https://blog.yexca.net/ja/ selected>日本語</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ダークモード</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#第3章-shellを使う>第3章 shellを使う</a><ul><li><a href=#31-shell-と-terminal-ウィンドウ>3.1 shell と Terminal ウィンドウ</a></li><li><a href=#32-shell-を選ぶ>3.2 shell を選ぶ</a></li><li><a href=#33-コマンドを実行する>3.3 コマンドを実行する</a></li><li><a href=#34-使用命令历史记录重复执行命令>3.4 使用命令历史记录重复执行命令</a></li><li><a href=#35-コマンドの連結と拡張>3.5 コマンドの連結と拡張</a></li><li><a href=#36-shell-変数を使う>3.6 shell 変数を使う</a></li><li><a href=#37-自分好みの-shell-環境を作る>3.7 自分好みの shell 環境を作る</a></li><li><a href=#38-コマンドの情報を調べる>3.8 コマンドの情報を調べる</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/ja/categories/%E6%8A%80%E8%A1%93%E5%AD%A6%E7%BF%92/>技術学習</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/ja/archives/69/>Linux学習 第3章 shellを使う</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2022-09-12 15:04 +0800</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>読了時間: 15分</time></div></footer><footer class=post-tags><svg class="icon icon-tabler icon-tabler-tag" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7v3l9 9 7-7-9-9H8A2 2 0 006 5"/><path d="M9 8h-.01"/></svg>
<a href=/ja/tags/linux/ target=_blank class="tag badge badge-secondary post-meta-detail-tag">Linux</a>
<a href=/ja/tags/%E8%AA%AD%E6%9B%B8%E3%83%8E%E3%83%BC%E3%83%88/ target=_blank class="tag badge badge-secondary post-meta-detail-tag">読書ノート</a></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://blog.yexca.net/archives/69/ class=link>简体中文</a>
<a href=https://blog.yexca.net/zh-tw/archives/69/ class=link>正體中文</a>
<a href=https://blog.yexca.net/en/archives/69/ class=link>English</a></div></footer></div></header><section class=article-content><div class=notice><strong>📢</strong> この記事は gemini-3-flash-preview によって翻訳されました</div><style lang=scss>.notice{padding:.75em 1em;margin:1em 0;border-left:4px solid;border-radius:4px;&.default { border-color: #ccc; background-color: #f9f9f9; color: #333; } &.info { border-color: #2196f3; background-color: #e3f2fd; color: #1a237e; } &.warn { border-color: #ff9800; background-color: #fff3e0; color: #e65100; } &.danger { border-color: #f44336; background-color: #ffebee; color: #b71c1c; }}[data-scheme=dark]{.notice { &.default { border-color: #666; background-color: #2a2a2a; color: #eee; } &.info { border-color: #90caf9; background-color: #1e3a5f; color: #e3f2fd; } &.warn { border-color: #ffb74d; background-color: #4e342e; color: #fff3e0; } &.danger { border-color: #ef5350; background-color: #3e2723; color: #ffebee; } }}[data-scheme=sepia]{.notice { &.info { border-color: #6a5acd; background-color: #fdf6e3; color: #3c2f2f; } &.warn { border-color: #e9967a; background-color: #faf0e6; color: #5c4033; } &.danger { border-color: #cd5c5c; background-color: #f5e0dc; color: #7b3f3f; } }}</style><h2 id=第3章-shellを使う>第3章 shellを使う</h2><p>この章で紹介する Linux shell は Bash shell と呼ばれるもので、正式名称は Bourne Again shell だよ。他にも、BSD UNIX ユーザーに人気の C shell (csh) や、UNIX System V ユーザーに普及している Korn shell (ksh) 、Ubuntu でデフォルトで起動する Dash shell (Bash より高速) 、改良版 C shell の Tcsh shell 、Bourne shell によく似た Ash shell などがあるんだ。</p><h3 id=31-shell-と-terminal-ウィンドウ>3.1 shell と Terminal ウィンドウ</h3><ol><li>Terminal ウィンドウを使う</li></ol><p>GUI 上でターミナルエミュレータ (Terminal ウィンドウとも呼ばれる) を実行することで、shell を起動できるよ。</p><p>だいたいのシステムは <em>Ctrl+Shift+T</em> のショートカットで開けるし、Fedora ならプログラム一覧から探すか、<em>Alt+F2</em> を押した後に <em>gnome-terminal</em> と入力すればOK。</p><ol start=2><li>仮想コンソールを使う</li></ol><p>GUI を備えた Linux システムの多くは、起動時に複数の仮想コンソールを動かしている。仮想コンソールを使えば、GUI 以外にも複数の shell セッションを開けるんだ。</p><p><em>Ctrl+Shift+F1〜F6</em> で仮想コンソールを切り替えられるよ。例えば Fedora だと、tty1 が gdm (ログイン画面) 、tty2 が最初のデスクトップ、tty3 が2番目のデスクトップ (テキストのみ) って感じになっている。</p><ul><li>コマンドプロンプト</li></ul><p>一般ユーザーの場合、デフォルトのプロンプトはシンプルなドル記号だよ。</p><p><code>$</code></p><p>root ユーザー (管理者) の場合は、シャープ記号 (ナンバーサインやハッシュタグとも呼ばれる) になるんだ。</p><p><code>#</code></p><p><del>アメリカのルーツがイギリスにあることを絶妙に表してるね（笑）</del></p><h3 id=32-shell-を選ぶ>3.2 shell を選ぶ</h3><p><code>who</code> コマンドを使えば、今ログインしているユーザー名、仮想コンソール、ログイン時間が表示されるよ。</p><p><code>grep ユーザー名 /etc/passwd</code> コマンドを叩くと、出力の最後にデフォルトで使っている shell が表示される。</p><p>ksh、tcsh、csh、sh、dash などのコマンドを入力すれば、別の shell に切り替えることもできるよ (インストールされていればの話だけど) 。</p><blockquote><p>Bash shell を学ぶのは、それが多くのディストリビューションでデフォルトなだけじゃなく、ほとんどの Linux 認定試験で使われるからなんだ。</p></blockquote><h3 id=33-コマンドを実行する>3.3 コマンドを実行する</h3><p>コマンド名を入力するだけで動くものも多いけど、コマンドの後に何かを付け足して挙動を変えるのが一般的だよ。後ろに続く文字や単語は「オプション」や「引数」と呼ばれるんだ。</p><h4 id=331-コマンドの構文を知る>3.3.1 コマンドの構文を知る</h4><ul><li>ほとんどのコマンドには、動作を変えるためのオプションが1つ以上ある。</li></ul><p>だいたいのオプションは1つのアルファベットで、前にハイフン <code>-</code> を付ける。複数のオプションを一度に使うときは、まとめて書くこともできるし、1つずつハイフンを付けてもいいよ。</p><p>単語形式のオプションもあって、その場合はダブルハイフン <code>--</code> を使うのが一般的。例えば <code>--help</code> と入力するところを <code>-help</code> としちゃうと、<code>-h</code> 、<code>-e</code> 、<code>-l</code> 、<code>-p</code> という4つのオプションとして解釈されちゃうことがあるんだ。</p><ul><li>また、オプションの後やコマンドラインの最後に「引数」を渡すこともできる。</li></ul><p>引数は、ファイル名、ディレクトリ、ユーザー名、デバイスなどの追加情報のこと。コマンドラインが許容する長さなら、いくつでも引数を指定できるよ。</p><p>引数が特定のオプションと結びついている場合は、そのオプションの直後に置く必要がある。1文字オプションならスペースを空けて、単語オプションならイコール <code>=</code> で繋ぐことが多いかな。</p><p>例えば：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar -cvf backup.tar /home/yexca
</span></span></code></pre></td></tr></table></div></div><p>これは、「/home/yexca ディレクトリの全ファイルを backup.tar というファイル名で作成 (c) し (f) 、作成が終わったら詳細を表示 (v) する」という意味。backup.tar は f オプションの引数だから、f の直後に書く必要があるんだ。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls --hide<span class=o>=</span>Desktop
</span></span></code></pre></td></tr></table></div></div><p><code>--hide</code> オプションは ls コマンドに「Desktop という名前のファイルやディレクトリを表示しない」ように伝えるもの。オプションと引数の間にスペースがないことに注目してね。</p><ul><li>他にもこんなコマンドを試してみよう。</li></ul><p><code>uname</code> コマンドは実行中のシステムタイプを表示する。<code>-a</code> オプションを付けるとホスト名やカーネルバージョンも見られるよ。</p><p>Linux にログインすると、システムは君のユーザー名、グループ名、ユーザーID、グループID などの「識別情報」を認識する。さらに、ログイン時間やアイドル時間、どこからログインしたかも追跡しているよ。<code>id</code> コマンドで自分の情報を確認してみよう。</p><blockquote><p>SELinux (Security Enhanced Linux) が有効なディストリビューションだと、<code>id</code> の出力の最後に context などの追加情報が表示されるよ。SELinux はセキュリティをガチガチに固めるための仕組みなんだ。</p></blockquote><p><code>who -uH</code> を使うと、アイドル時間やプロセスID (u) 、見出し (H) も表示できる。</p><p>アイドル (IDLE) は、何も入力せずに shell を放置している時間。プロセス番号 (PID) は shell のプロセスID。備考 (COMMENT) は、リモートからログインしているならそのコンピュータ名、ローカルならディスプレイ名 (*:0.0 など) が表示されるよ。</p><h4 id=332-コマンドを探す仕組み>3.3.2 コマンドを探す仕組み</h4><p>入力されたコマンドを実行するために、shell は「パス (PATH) 」と呼ばれる場所を探しに行く。パスに含まれていないコマンドを動かすには、フルパスで場所を指定してあげないといけない。</p><p><code>echo $PATH</code> で、今の shell の環境変数 PATH を確認できるよ。</p><p>参考：
<a class=link href=https://blog.yexca.net/ja/archives/60>Linuxのbinディレクトリについて - yexca&rsquo;Blog</a></p><p>他のOSと違って、Linux はデフォルトではカレントディレクトリ (今いる場所) を探しに行かないんだ。すぐに PATH を検索し始める。カレントディレクトリにあるファイルを実行したいなら、PATH に追加するか、相対パスや絶対パスで指定する必要があるよ。</p><hr><p>すべてのコマンドが PATH 内のディレクトリにあるわけじゃない。shell に組み込まれているものもあるし、エイリアス (別名) で上書きされていることもある。shell がコマンドを探す順番はこんな感じ：</p><ol><li>エイリアス (Alias)：<code>alias</code> コマンドで設定された別名。</li><li>shell 予約語：shell が特別な用途で予約している単語。</li><li>関数：今の shell 内でまとめて実行されるコマンド群。</li><li>組み込みコマンド (Built-in)：cd、echo、exit、pwd、history、fg、set、type など、ファイルシステム上には存在しない shell 内部のコマンド。</li><li>ファイルシステムコマンド：PATH 変数で指定されたディレクトリに保存されている実行ファイル。</li></ol><p>コマンドがどこから来ているか知るには、<code>type</code> や <code>which</code> を使う。<code>type -a</code> を使えば、そのコマンドの候補を全部出してくれるよ。</p><hr><p>もしコマンドが PATH 内に見つからないときは、<code>locate</code> コマンドで探してみるのも手だね。システム全体からファイルを探してくれるよ。</p><p>最近追加したばかりのファイルが見つからないときは、root ユーザーで <code>updatedb</code> を実行してデータベースを更新してみて。</p><h3 id=34-使用命令历史记录重复执行命令>3.4 使用命令历史记录重复执行命令</h3><p>長くて複雑な、打ち間違えそうなコマンドを何度も打つのは面倒だよね。履歴を使えば楽ができるよ。</p><h4 id=341-コマンドライン編集>3.4.1 コマンドライン編集</h4><p>デフォルトでは、Bash shell は Emacs ベースのエディタ操作が使えるようになっている。vi のほうが好きなら、ホームディレクトリの <code>.bashrc</code> に <code>set -o vi</code> を書き込めばいいよ。</p><ul><li>コマンドライン移動のショートカット</li></ul><div class=table-wrapper><table><thead><tr><th>キー</th><th>名称</th><th>意味</th></tr></thead><tbody><tr><td>Ctrl+F</td><td>1文字進む</td><td>カーソルを右に移動</td></tr><tr><td>Ctrl+B</td><td>1文字戻る</td><td>カーソルを左に移動</td></tr><tr><td>Alt+F</td><td>1単語進む</td><td>カーソルを次の単語へ移動</td></tr><tr><td>Alt+B</td><td>1単語戻る</td><td>カーソルを前の単語へ移動</td></tr><tr><td>Ctrl+A</td><td>行頭へ</td><td>コマンドラインの先頭に移動</td></tr><tr><td>Ctrl+E</td><td>行末へ</td><td>コマンドラインの末尾に移動</td></tr><tr><td>Ctrl+L</td><td>画面クリア</td><td>画面を綺麗にして、カーソルを一番上へ</td></tr></tbody></table></div><ul><li>コマンドライン編集のショートカット</li></ul><div class=table-wrapper><table><thead><tr><th>キー</th><th>名称</th><th>意味</th></tr></thead><tbody><tr><td>Ctrl+D</td><td>1文字削除</td><td>カーソル位置の文字を消す</td></tr><tr><td>Backspace</td><td>前の文字を削除</td><td>カーソルの前の文字を消す</td></tr><tr><td>Ctrl+T</td><td>文字を入れ替え</td><td>カーソル位置と前の文字を入れ替える</td></tr><tr><td>Alt+T</td><td>単語を入れ替え</td><td>カーソル位置と前の単語を入れ替える</td></tr><tr><td>Alt+U</td><td>大文字化</td><td>単語を大文字にする</td></tr><tr><td>Alt+L</td><td>小文字化</td><td>単語を小文字にする</td></tr><tr><td>Alt+C</td><td>先頭大文字化</td><td>単語の最初の文字だけ大文字にする</td></tr><tr><td>Ctrl+V</td><td>特殊文字挿入</td><td>Tab などの特殊な文字をそのまま入力する</td></tr></tbody></table></div><ul><li>コピー＆ペースト (カット＆ヤンク)</li></ul><div class=table-wrapper><table><thead><tr><th>キー</th><th>名称</th><th>意味</th></tr></thead><tbody><tr><td>Ctrl+K</td><td>行末までカット</td><td>カーソルから後ろを全部消す</td></tr><tr><td>Ctrl+U</td><td>行頭までカット</td><td>カーソルから前を全部消す</td></tr><tr><td>Ctrl+W</td><td>前の単語をカット</td><td>カーソルの前の1単語を消す</td></tr><tr><td>Alt+D</td><td>後の単語をカット</td><td>カーソルの後の1単語を消す</td></tr><tr><td>Ctrl+Y</td><td>ペースト</td><td>最後にカットしたテキストを貼る</td></tr><tr><td>Alt+Y</td><td>過去分をペースト</td><td>さらに前にカットしたものを貼る</td></tr><tr><td>Ctrl+C</td><td>行削除</td><td>今打っている内容を全部捨てる</td></tr></tbody></table></div><h4 id=342-コマンドライン補完>3.4.2 コマンドライン補完</h4><p>キー入力を減らすために、Bash は「補完」機能を持っているよ。文字を数個打ってから <em>Tab</em> キーを押すだけ。補完できるのはこんなもの：</p><ul><li>コマンド、エイリアス、関数：普通の文字で始まるとき。</li><li>変数：ドル記号 <code>$</code> で始まるとき。</li><li>ユーザー名：チルダ <code>~</code> で始まるとき。<code>~username</code> はそのユーザーのホームディレクトリを指すよ。</li><li>ホスト名：アットマーク <code>@</code> で始まるとき。<code>/etc/hosts</code> から補完される。</li></ul><blockquote><p>他のファイルからホスト名を補完したいときは、<code>HOSTFILE</code> 変数にそのファイルパスを設定すればいいよ。</p></blockquote><p>候補が複数あるときは、Tab を2回叩けばリストが表示されるんだ。</p><h4 id=343-コマンドの再実行>3.4.3 コマンドの再実行</h4><p>実行したコマンドは shell の履歴リストに保存されるよ。</p><p><code>history</code> コマンドで一覧が見られるし、数字を付ければ直近の数件だけ表示できる。</p><p>感嘆符 <code>!</code> を使うと、履歴からコマンドを直接実行できるけど、確認なしで動いちゃうから注意してね。</p><ul><li>!n &mdash; 番号指定で実行。例えば <code>!255</code> なら255番目のコマンドが動く。</li><li>!! &mdash; 1つ前のコマンドを実行。</li><li>!?string? &mdash; 指定した文字列を含む直近のコマンドを実行。</li></ul><hr><p>履歴をただ実行するだけじゃなくて、編集してから動かすこともできるよ。</p><div class=table-wrapper><table><thead><tr><th>キー</th><th>機能</th><th>説明</th></tr></thead><tbody><tr><td>矢印キー または<br>Ctrl+P / Ctrl+N</td><td>履歴を辿る</td><td>上下キーで過去のコマンドを1つずつ呼び出せる。</td></tr><tr><td>Ctrl+R</td><td>インクリメンタル検索</td><td>過去のコマンドを文字入力で検索できる。入力するそばからヒットするよ。</td></tr><tr><td>Ctrl+S</td><td>前方検索</td><td>Ctrl+R の逆。あんまり使わないし、設定によっては効かないこともある。</td></tr><tr><td>Alt+P</td><td>非同期検索</td><td>検索文字列を入れて Enter を押すと、そのコマンドが表示される。</td></tr><tr><td>Alt+N</td><td>前方非同期検索</td><td>上記の逆バージョン。</td></tr></tbody></table></div><hr><p><code>fc</code> コマンドを使う方法もある。<code>fc 233 255</code> みたいに番号を指定すると、テキストエディタ (デフォルトは vi) でその範囲のコマンドが開く。エディタを閉じると、それらが順番に実行されるよ。</p><p>shell を閉じるとき、履歴はホームディレクトリの <code>.bash_history</code> に保存される。デフォルトは1000件まで。</p><blockquote><p>履歴を残したくないときは、普通にログアウトせずに <code>kill -9 PID</code> で shell を強制終了させると、保存をスキップできる裏技があるよ。</p><p><code>HISTFILE=/dev/null</code> にしたり <code>HISTSIZE</code> を空にしても、正常終了すると保存されちゃうことがあるから、強制終了が確実だね。</p></blockquote><h3 id=35-コマンドの連結と拡張>3.5 コマンドの連結と拡張</h3><p>shell の本当の強さは、コマンドの入出力を他のコマンドやファイルに繋げられることにあるんだ。</p><p>コマンドを繋ぐには「メタ文字 (metacharacter) 」を使う。これは shell にとって特別な意味を持つ記号のこと。</p><p>よく使うメタ文字：パイプ <code>|</code> 、アンパサンド <code>&</code> 、セミコロン <code>;</code> 、括弧 <code>()</code> 、不等号 <code>&lt;</code> <code>></code> など。</p><h4 id=351-コマンド間のパイプ>3.5.1 コマンド間のパイプ</h4><p>パイプ <code>|</code> は、前のコマンドの出力を次のコマンドの入力に渡すよ。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /etc/passwd <span class=p>|</span> sort <span class=p>|</span> less
</span></span></code></pre></td></tr></table></div></div><p>これは passwd ファイルの中身を出し、それを並び替えて (sort) 、最後にスクロール表示 (less) する、という流れ。</p><h4 id=352-連続実行>3.5.2 連続実行</h4><p>セミコロン <code>;</code> を使えば、1行で複数のコマンドを順番に実行できるよ。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>date <span class=p>;</span> troff -me VertLargeDocument <span class=p>|</span> lpr <span class=p>;</span> date
</span></span></code></pre></td></tr></table></div></div><p>大きな文書を処理する前後に <code>date</code> を置いて、どれくらい時間がかかったか測る、なんて使い方ができるね。</p><h4 id=353-バックグラウンド実行>3.5.3 バックグラウンド実行</h4><p>時間がかかる処理は、後ろに <code>&</code> を付けてバックグラウンドで動かそう。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>troff -me VertLargeDocument <span class=p>|</span> lpr <span class=p>&amp;</span>
</span></span></code></pre></td></tr></table></div></div><p>処理が終わる前に shell を閉じたりプロセスを殺したりすると、途中で止まっちゃうから気をつけて。</p><h4 id=354-コマンド置換>3.5.4 コマンド置換</h4><p>あるコマンドの実行結果を、別のコマンドの引数として使うことができるんだ。</p><p>形式は <code>$(command)</code> または <code>`command`</code> (バッククォート) 。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi <span class=k>$(</span>find /home <span class=p>|</span> grep xyzzy<span class=k>)</span>
</span></span></code></pre></td></tr></table></div></div><p>これは、まず /home から xyzzy という名前を含むファイルを全部探し出して、その結果を <code>vi</code> コマンドに渡して開く、という動作になる。</p><p>注意：ルートディレクトリ <code>/</code> から grep したりすると、数千個のファイルを一気に開こうとして大変なことになるから気をつけてね。</p><h4 id=355-算術式の拡張>3.5.5 算術式の拡張</h4><p>計算結果をコマンドに渡したいときは、<code>$[expression]</code> や <code>$((expression))</code> を使うよ。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;I am </span>$<span class=s2>[2022-1957] years old&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>出力は <code>I am 65 years old</code> になる。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;There are </span><span class=k>$(</span>ls <span class=p>|</span> wc -w<span class=k>)</span><span class=s2> files in this directory&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>今のディレクトリのファイル数を数えて、それをメッセージに組み込んで表示する例だね。</p><h4 id=356-変数の拡張>3.5.6 変数の拡張</h4><p>ドル記号 <code>$</code> を使って変数の値を呼び出す。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls -l <span class=nv>$BASH</span>
</span></span></code></pre></td></tr></table></div></div><p>これは bash コマンドの実行ファイルの詳細情報を表示するよ。</p><h3 id=36-shell-変数を使う>3.6 shell 変数を使う</h3><p>shell は変数を使って、ユーザーのセッションに役立つ情報を保存しているんだ。<code>set</code> コマンドを使えば、今設定されているすべての変数が見られるよ。</p><p>その中でも、別の shell にも引き継がれる変数を「環境変数」と呼ぶ。これは <code>env</code> コマンドで確認できる。</p><p>変数の値を参照するときは、頭に <code>$</code> を付けるのを忘れずに。</p><p>shell 起動時に自動で設定される主な変数をまとめてみたよ。</p><div class=table-wrapper><table><thead><tr><th>変数</th><th>説明</th></tr></thead><tbody><tr><td>BASH</td><td>Bash コマンドのフルパス。だいたいは <code>/bin/bash</code></td></tr><tr><td>BASH_VERSION</td><td>Bash のバージョン番号</td></tr><tr><td>EUID</td><td>現在のユーザーの有効なユーザーID</td></tr><tr><td>FCEDIT</td><td><code>fc</code> コマンドで使うエディタ。デフォルトは vi</td></tr><tr><td>HISTFILE</td><td>履歴ファイルの場所。通常は <code>$HOME/.bash_history</code></td></tr><tr><td>HISTFILESIZE</td><td>保存する履歴の最大件数。デフォルトは 1000</td></tr><tr><td>HISTCMD</td><td>履歴リストの中での今のコマンド番号</td></tr><tr><td>HOME</td><td>ホームディレクトリ</td></tr><tr><td>HOSTTYPE</td><td>システムのアーキテクチャ (x86_64 など)</td></tr><tr><td>MAIL</td><td>メールボックスの場所</td></tr><tr><td>OLDPWD</td><td>1つ前にいたディレクトリ</td></tr><tr><td>OSTYPE</td><td>オペレーティングシステムの種類 (Linux など)</td></tr><tr><td>PATH</td><td>コマンドを探すディレクトリのリスト (コロン <code>:</code> 区切り)</td></tr><tr><td>PPID</td><td>親プロセスのID</td></tr><tr><td>PROMPT_COMMAND</td><td>プロンプトを表示する直前に実行されるコマンド</td></tr><tr><td>PS1</td><td>メインのプロンプトのデザイン</td></tr><tr><td>PWD</td><td>今いるディレクトリ (カレントディレクトリ)</td></tr><tr><td>RANDOM</td><td>0〜32767 の乱数を生成する</td></tr><tr><td>SECONDS</td><td>shell を起動してからの経過秒数</td></tr><tr><td>SHLVL</td><td>shell の深さレベル。<code>su</code> や <code>bash</code> を叩くたびに増える</td></tr><tr><td>TMOUT</td><td>無操作時に自動ログアウトするまでの秒数</td></tr></tbody></table></div><h4 id=361-エイリアスの作成と利用>3.6.1 エイリアスの作成と利用</h4><p><code>alias</code> コマンドを使えば、長いコマンドに短いニックネームを付けられるよ。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>p</span><span class=o>=</span><span class=s1>&#39;pwd ; ls -CF&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>これで <code>p</code> と打つだけで、今の場所を表示してからファイル一覧をカラム表示してくれるようになる。</p><p>消したいときは <code>unalias</code> を使えばOK。</p><h4 id=362-shell-を終了する>3.6.2 shell を終了する</h4><p><code>exit</code> と打つか、<em>Ctrl+D</em> を押せば終了できるよ。</p><h3 id=37-自分好みの-shell-環境を作る>3.7 自分好みの shell 環境を作る</h3><p>設定をいじって、もっと効率よく作業できるようにしよう。</p><h4 id=371-shell-を設定する>3.7.1 shell を設定する</h4><p>Bash の挙動はいくつかの設定ファイルで決まっているんだ。</p><div class=table-wrapper><table><thead><tr><th>ファイル</th><th>説明</th></tr></thead><tbody><tr><td>/etc/profile</td><td>全ユーザー共通の設定。ログイン時に一度だけ読み込まれる。パスの設定などもここ。</td></tr><tr><td>/etc/bashrc</td><td>Bash を開くたびに読み込まれる全ユーザー共通設定。プロンプトやエイリアスのデフォルトなど。</td></tr><tr><td>~/.bash_profile</td><td>ユーザー個別のログイン時設定。環境変数を追加するならここがおすすめ。</td></tr><tr><td>~/.bashrc</td><td>ユーザー個別の Bash 起動時設定。エイリアスを書くのに最適。</td></tr><tr><td>~/.bash_logout</td><td>ログアウト時に実行される。デフォルトでは画面を消去したりする。</td></tr></tbody></table></div><p><code>/etc/</code> 以下のファイルをいじるには root 権限が必要だよ。システム全体の設定を変えたいときは、元のファイルを直接いじるより <code>/etc/profile.d/custom.sh</code> みたいなファイルを作って追加するのがお作法。</p><ul><li>nano エディタ</li></ul><p>初心者にも使いやすいエディタだよ。<code>Ctrl+O</code> で保存、<code>Ctrl+X</code> で終了。</p><h4 id=372-プロンプトの設定>3.7.2 プロンプトの設定</h4><p>プロンプト (入力待ちの記号) は <code>PS1</code> という変数でカスタマイズできる。</p><div class=table-wrapper><table><thead><tr><th>特殊文字</th><th>説明</th></tr></thead><tbody><tr><td>\!</td><td>履歴番号を表示</td></tr><tr><td>\#</td><td>今のセッションでのコマンド番号</td></tr><tr><td>\$</td><td>一般ユーザーなら <code>$</code> 、root なら <code>#</code> を表示</td></tr><tr><td>\W</td><td>今いるディレクトリ名だけを表示</td></tr><tr><td>\[</td><td>表示されない文字の開始 (色付けとかに使う)</td></tr><tr><td>\]</td><td>表示されない文字の終了</td></tr><tr><td>\\</td><td>バックスラッシュを表示</td></tr><tr><td>\d</td><td>日付を表示</td></tr><tr><td>\h</td><td>ホスト名を表示</td></tr><tr><td>\n</td><td>改行</td></tr><tr><td>\s</td><td>shell の名前を表示</td></tr><tr><td>\t</td><td>現在時刻 (HH:MM:SS)</td></tr><tr><td>\u</td><td>ユーザー名を表示</td></tr><tr><td>\w</td><td>今いる場所のフルパスを表示</td></tr></tbody></table></div><p>一時的に変えるだけなら <code>export PS1="[\t\w]\$"</code> みたいに打てばいいし、ずっとその設定にしたいなら <code>~/.bashrc</code> に書き込もう。</p><p>詳しく知りたいなら：
<a class=link href=https://www.tldp.org/HOWTO/Bash-Prompt-HOWTO target=_blank rel=noopener>Bash Prompt HOWTO</a></p><h4 id=373-環境変数を追加する>3.7.3 環境変数を追加する</h4><p>よく <code>.bashrc</code> に追加される設定例を紹介するね。</p><ul><li><p>TMOUT &mdash; 自動タイムアウトの設定。</p></li><li><p>PATH &mdash; コマンドを探す場所の追加。例えば <code>~/bin</code> を追加したいなら：</p><p><code>PATH=$PATH:~/bin ; export PATH</code></p><p>今のパス ($PATH) の後ろに <code>~/bin</code> をくっつけて、それを新しい PATH としてエクスポートしているよ。</p></li></ul><blockquote><p>セキュリティのリスクがあるから、カレントディレクトリを表す <code>.</code> を PATH に入れるのはやめておこうね。</p></blockquote><ul><li><p>独自変数 &mdash; 自分の作業用ショートカットも作れる。</p><p><code>MYWORKDIR=/home/yexca/work ; export MYWORKDIR</code></p><p>こうしておけば、<code>cd $MYWORKDIR</code> で一発で作業ディレクトリに飛べるよ。</p></li></ul><h3 id=38-コマンドの情報を調べる>3.8 コマンドの情報を調べる</h3><p>shell に組み込まれたコマンドなら、<code>help</code> コマンドが使える。<code>help | less</code> で一覧を見たり、<code>help cd</code> みたいに特定のコマンドの使い方を見たりできるよ。</p><p>多くのコマンドは <code>--help</code> や <code>-h</code> オプションを付けて叩くと、簡単なヘルプを出してくれる。</p><p>もっと詳しく知りたいなら <code>info</code> や <code>man</code> コマンドを使おう。</p><hr><p>「マニュアルページ (man page) 」は、Linux で一番よく使われる調べ方だよ。</p><p>man には 8 つのセクション (章) があるんだ。</p><div class=table-wrapper><table><thead><tr><th>章番号</th><th>章の名前</th><th>説明</th></tr></thead><tbody><tr><td>1</td><td>ユーザーコマンド</td><td>一般ユーザーが実行できるコマンド</td></tr><tr><td>2</td><td>システムコール</td><td>プログラムからカーネルを呼び出す関数</td></tr><tr><td>3</td><td>C ライブラリ関数</td><td>プログラミング用のライブラリ関数</td></tr><tr><td>4</td><td>デバイスと特殊ファイル</td><td>デバイス関連のファイルなど</td></tr><tr><td>5</td><td>ファイル形式と慣習</td><td>設定ファイルの書き方とか</td></tr><tr><td>6</td><td>ゲーム</td><td>システムに入っているゲーム</td></tr><tr><td>7</td><td>その他</td><td>プロトコルやファイルシステムの概説</td></tr><tr><td>8</td><td>システム管理ツール</td><td>root 権限が必要な管理用コマンド</td></tr></tbody></table></div><p><code>man -k キーワード</code> で、マニュアルのデータベースを検索できるよ。もし検索に失敗するなら、root で <code>mandb</code> を実行してデータベースを作ってね。</p><p>特定のセクションを見たいときは、<code>man 5 passwd</code> みたいに番号を指定するんだ。</p><p>操作は Page Down / Page Up でページめくり、Enter や矢印キーで1行移動。<code>/</code> を押してから文字を打つと検索できて、<code>n</code> で次を検索、<code>N</code> で前を検索できるよ。終わるときは <code>q</code> を押せばいいよ。</p></section><footer class=article-footer><section class=article-tags><a href=/ja/tags/linux/>Linux</a>
<a href=/ja/tags/%E8%AA%AD%E6%9B%B8%E3%83%8E%E3%83%BC%E3%83%88/>読書ノート</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>This post is licensed under CC BY-NC-SA 4.0 by the author.</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>関連するコンテンツ</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/ja/archives/64/><div class=article-details><h2 class=article-title>HTTP 学習メモ</h2></div></a></article><article><a href=/ja/archives/60/><div class=article-details><h2 class=article-title>Linuxのbinディレクトリについて</h2></div></a></article><article><a href=/ja/archives/41/><div class=article-details><h2 class=article-title>Linuxでユーザーと管理者ユーザーを追加する方法</h2></div></a></article><article><a href=/ja/archives/40/><div class=article-details><h2 class=article-title>Linux 備忘録</h2></div></a></article><article><a href=/ja/archives/38/><div class=article-details><h2 class=article-title>Linuxを体系的に学ぶノート</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.39/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send{color:var(--twikoo-body-text-color-main)}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://twikoo-jade-one.vercel.app/",el:"#tcomment"})</script><footer class=site-footer><section class=copyright>&copy;
2021 -
2026 <a href=https://blog.yexca.net target=_blank class=link rel=noopener>yexca</a></section><section class=powerby><p><span id=htmer_time style=color:var(--themecolor)></span></p><img src=https://count.getloli.com/@yexca><p>Visits Since 2025-02-28</p><a href=https://gohugo.io/ target=_blank class=link rel=noopener>Hugo</a> で構築されています。 <span>|</span>
テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank class=link rel=noopener data-version=3.29.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank class=link rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script>function secondToDate(e){if(!e)return 0;var t=new Array(0,0,0,0,0);return e>=365*24*3600&&(t[0]=parseInt(e/(365*24*3600)),e%=365*24*3600),e>=24*3600&&(t[1]=parseInt(e/(24*3600)),e%=24*3600),e>=3600&&(t[2]=parseInt(e/3600),e%=3600),e>=60&&(t[3]=parseInt(e/60),e%=60),e>0&&(t[4]=e),t}</script><script type=text/javascript language=javascript>function setTime(){var e=Math.round(new Date(Date.UTC(2021,10,6,14,15,19)).getTime()/1e3),t=Math.round(((new Date).getTime()+8*60*60*1e3)/1e3);currentTime=secondToDate(t-e),currentTimeHtml="This blog has been running for "+currentTime[0]+" years "+currentTime[1]+" days "+currentTime[2]+" hours "+currentTime[3]+" minutes "+currentTime[4]+" seconds",document.getElementById("htmer_time").innerHTML=currentTimeHtml}setInterval(setTime,1e3)</script></body></html>