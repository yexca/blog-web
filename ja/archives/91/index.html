<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content=" SQL シリーズ\nデータベース学習 1 データベース導入: https://blog.yexca.net/ja/archives/86 データベース学習 2 関係モデル: https://blog.yexca.net/ja/archives/87 データベース学習 3 SQL 言語: https://blog.yexca.net/ja/archives/88 データベース学習 4 関係データベース理論: https://blog.yexca.net/ja/archives/89 データベース学習 5 正規形: https://blog.yexca.net/ja/archives/90 データベース学習 6 データベース設計: この記事\nデータベース学習 7 データベースの制御機能: https://blog.yexca.net/ja/archives/92 "><title>データベース学習 6 データベース設計</title>
<link rel=canonical href=https://blog.yexca.net/ja/archives/91/><link rel=stylesheet href=/scss/style.min.8f98047b6cd92c22e3d38a3ba5f536200fbbb6bd864cd97459941f4e9e6a26d3.css><meta property='og:title' content="データベース学習 6 データベース設計"><meta property='og:description' content=" SQL シリーズ\nデータベース学習 1 データベース導入: https://blog.yexca.net/ja/archives/86 データベース学習 2 関係モデル: https://blog.yexca.net/ja/archives/87 データベース学習 3 SQL 言語: https://blog.yexca.net/ja/archives/88 データベース学習 4 関係データベース理論: https://blog.yexca.net/ja/archives/89 データベース学習 5 正規形: https://blog.yexca.net/ja/archives/90 データベース学習 6 データベース設計: この記事\nデータベース学習 7 データベースの制御機能: https://blog.yexca.net/ja/archives/92 "><meta property='og:url' content='https://blog.yexca.net/ja/archives/91/'><meta property='og:site_name' content="yexca'Blog"><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='データベース'><meta property='article:published_time' content='2023-02-11T08:15:00+08:00'><meta property='article:modified_time' content='2023-02-11T08:15:00+08:00'><meta name=twitter:site content="@yexcano"><meta name=twitter:creator content="@yexcano"><meta name=twitter:title content="データベース学習 6 データベース設計"><meta name=twitter:description content=" SQL シリーズ\nデータベース学習 1 データベース導入: https://blog.yexca.net/ja/archives/86 データベース学習 2 関係モデル: https://blog.yexca.net/ja/archives/87 データベース学習 3 SQL 言語: https://blog.yexca.net/ja/archives/88 データベース学習 4 関係データベース理論: https://blog.yexca.net/ja/archives/89 データベース学習 5 正規形: https://blog.yexca.net/ja/archives/90 データベース学習 6 データベース設計: この記事\nデータベース学習 7 データベースの制御機能: https://blog.yexca.net/ja/archives/92 "><link rel="shortcut icon" href=/favicon.ico><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.yexca.net\/ja\/archives\/91\/"},"headline":"データベース学習 6 データベース設計","name":"yexca'Blog","author":{"@type":"Person","name":"yexca"},"publisher":{"@type":"Person","name":"yexca'Blog"},"datePublished":"2023-02-11","dateModified":"2023-02-11","inLanguage":"ja","description":"yexca の技術と生活のブログ。プログラミングや日常の記録を掲載。"}</script><link rel=alternate hreflang=x-default href=https://blog.yexca.net/><link rel=alternate hreflang=zh-CN href=https://blog.yexca.net/><link rel=alternate hreflang=zh-TW href=https://blog.yexca.net/zh-tw/><link rel=alternate hreflang=ja href=https://blog.yexca.net/ja/><link rel=alternate hreflang=en href=https://blog.yexca.net/en/><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Noto+Sans+JP:wght@100..900&family=Noto+Sans+SC:wght@100..900&family=Noto+Sans+TC:wght@100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Yomogi&display=swap" rel=stylesheet></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=メニューを開く・閉じる>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/ja/><img src=/img/avatar_hu16531030078560657968.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/ja>yexca'Blog</a></h1><h2 class=site-description>この世で道が尽きることはなく、行きたいと望む心があれば、道は必ず足元に広がる</h2></div></header><ol class=menu-social><li><a href=https://github.com/yexca target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:blog@yexca.net target=_blank title=Mail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://t.me/yexca target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=/ja/feed.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/ja/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ホーム</span></a></li><li><a href=/ja/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>アーカイブ</span></a></li><li><a href=/ja/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>検索</span></a></li><li><a href=/ja/background/><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>背景</span></a></li><li><a href=/ja/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>リンク</span></a></li><li><a href=/ja/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>について</span></a></li><li><a href=/ja/support/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-coffee"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 14c.83.642 2.077 1.017 3.5 1 1.423.017 2.67-.358 3.5-1s2.077-1.017 3.5-1c1.423-.017 2.67.358 3.5 1"/><path d="M8 3A2.4 2.4.0 007 5a2.4 2.4.0 001 2"/><path d="M12 3a2.4 2.4.0 00-1 2 2.4 2.4.0 001 2"/><path d="M3 10h14v5a6 6 0 01-6 6H9a6 6 0 01-6-6v-5z"/><path d="M16.746 16.726a3 3 0 10.252-5.555"/></svg>
<span>応援</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://blog.yexca.net/>简体中文</option><option value=https://blog.yexca.net/zh-tw/>正體中文</option><option value=https://blog.yexca.net/en/>English</option><option value=https://blog.yexca.net/ja/ selected>日本語</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>ダークモード</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目次</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#データベース設計の戦略>データベース設計の戦略</a></li><li><a href=#データベース設計のステップ>データベース設計のステップ</a></li><li><a href=#要件分析段階>要件分析段階</a></li><li><a href=#e-r-モデル>E-R モデル</a><ul><li><a href=#実体-entity>実体 (Entity)</a></li><li><a href=#関連-relationship>関連 (Relationship)</a></li><li><a href=#属性-attribute>属性 (Attribute)</a></li><li><a href=#弱実体-weak-entity>弱実体 (Weak Entity)</a></li><li><a href=#スーパークラスとサブクラス>スーパークラスとサブクラス</a></li></ul></li><li><a href=#概念構造設計段階>概念構造設計段階</a><ul><li><a href=#局所的な応用の選択>局所的な応用の選択</a></li><li><a href=#部分-e-r-図の設計>部分 E-R 図の設計</a></li><li><a href=#e-r-図の統合>E-R 図の統合</a></li></ul></li><li><a href=#論理構造設計段階>論理構造設計段階</a><ul><li><a href=#e-r-図から関係スキーマへの変換>E-R 図から関係スキーマへの変換</a></li><li><a href=#関係スキーマの正規化>関係スキーマの正規化</a></li></ul></li><li><a href=#物理設計段階>物理設計段階</a></li><li><a href=#データベースの実施と保守>データベースの実施と保守</a></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/ja/categories/%E6%8A%80%E8%A1%93%E5%AD%A6%E7%BF%92/>技術学習</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/ja/archives/91/>データベース学習 6 データベース設計</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2023-02-11 08:15 +0800</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>読了時間: 8分</time></div></footer><footer class=post-tags><svg class="icon icon-tabler icon-tabler-tag" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7v3l9 9 7-7-9-9H8A2 2 0 006 5"/><path d="M9 8h-.01"/></svg>
<a href=/ja/tags/%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9/ target=_blank class="tag badge badge-secondary post-meta-detail-tag">データベース</a></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://blog.yexca.net/archives/91/ class=link>简体中文</a>
<a href=https://blog.yexca.net/zh-tw/archives/91/ class=link>正體中文</a>
<a href=https://blog.yexca.net/en/archives/91/ class=link>English</a></div></footer></div></header><section class=article-content><blockquote><p><strong>SQL シリーズ</strong></p><p>データベース学習 1 データベース導入:
<a class=link href=https://blog.yexca.net/ja/archives/86>https://blog.yexca.net/ja/archives/86</a><br>データベース学習 2 関係モデル:
<a class=link href=https://blog.yexca.net/ja/archives/87>https://blog.yexca.net/ja/archives/87</a><br>データベース学習 3 SQL 言語:
<a class=link href=https://blog.yexca.net/ja/archives/88>https://blog.yexca.net/ja/archives/88</a><br>データベース学習 4 関係データベース理論:
<a class=link href=https://blog.yexca.net/ja/archives/89>https://blog.yexca.net/ja/archives/89</a><br>データベース学習 5 正規形:
<a class=link href=https://blog.yexca.net/ja/archives/90>https://blog.yexca.net/ja/archives/90</a><br>データベース学習 6 データベース設計: この記事<br>データベース学習 7 データベースの制御機能:
<a class=link href=https://blog.yexca.net/ja/archives/92>https://blog.yexca.net/ja/archives/92</a></p></blockquote><div class=notice><strong>📢</strong> この記事は gemini-3-flash-preview によって翻訳されました</div><style lang=scss>.notice{padding:.75em 1em;margin:1em 0;border-left:4px solid;border-radius:4px;&.default { border-color: #ccc; background-color: #f9f9f9; color: #333; } &.info { border-color: #2196f3; background-color: #e3f2fd; color: #1a237e; } &.warn { border-color: #ff9800; background-color: #fff3e0; color: #e65100; } &.danger { border-color: #f44336; background-color: #ffebee; color: #b71c1c; }}[data-scheme=dark]{.notice { &.default { border-color: #666; background-color: #2a2a2a; color: #eee; } &.info { border-color: #90caf9; background-color: #1e3a5f; color: #e3f2fd; } &.warn { border-color: #ffb74d; background-color: #4e342e; color: #fff3e0; } &.danger { border-color: #ef5350; background-color: #3e2723; color: #ffebee; } }}[data-scheme=sepia]{.notice { &.info { border-color: #6a5acd; background-color: #fdf6e3; color: #3c2f2f; } &.warn { border-color: #e9967a; background-color: #faf0e6; color: #5c4033; } &.danger { border-color: #cd5c5c; background-color: #f5e0dc; color: #7b3f3f; } }}</style><h2 id=データベース設計の戦略>データベース設計の戦略</h2><p>トップダウン（上から下へ）とボトムアップ（下から上へ）の2つの方法があって、たいていはこの2つを組み合わせて使うよ。</p><h2 id=データベース設計のステップ>データベース設計のステップ</h2><p>ニューオーリンズ法は、現在広く認められている、かなり完成度が高くて権威のあるデータベース設計手法なんだ。これはデータベース設計を主に4つの段階に分けているよ。</p><ol><li>ユーザ要件分析：ユーザのニーズを集めて、システムの境界を決める。</li><li>概念設計：概念モデルを記述する。E-R 法を使うのが理想的だね。</li><li>論理設計：E-R 図を関係スキーマに変換して、正規化を行う。</li><li>物理設計：論理モデルをコンピュータ上で具体的にどう実現するか決める。</li></ol><p>その後に、データベースの実施段階と、運用・保守段階へと進むんだ。</p><h2 id=要件分析段階>要件分析段階</h2><p>要件分析は、プロジェクトが決まった後に、ユーザと設計者が「どんなデータ（内容）を扱うか」「どんな機能（動作）が必要か」を整理して記述すること。つまり、ユーザの視点からシステムを理解する作業だね。</p><p>このプロセスは、その後の<strong>論理設計</strong>や<strong>物理設計</strong>、それにアプリケーション設計の<strong>すべての根拠</strong>になる、とっても大事な基礎なんだ。</p><ul><li>要件分析段階の作業</li></ul><p>組織の状況調査 → 業務活動の把握 → ユーザ要件の明確化 → <strong>システムの境界決定</strong> → システム機能の分析 → システムデータの分析 → 分析報告書の作成</p><ul><li>要件分析段階のドキュメント</li></ul><p>調査で得られたデータは断片的だったり局所的だったりするから、分析担当者と設計者はさらに分析を進めてユーザの要望を表現し、<strong>要件定義書</strong>、<strong>データ辞書</strong>、<strong>データフロー図 (DFD)</strong> を作る必要があるよ。</p><h2 id=e-r-モデル>E-R モデル</h2><p>E-R (実体-関連) モデルは概念モデルの一つで、現実世界を表現するために使われるよ。</p><h3 id=実体-entity>実体 (Entity)</h3><p>長方形で表して、枠の中に実体名を書くよ。</p><h3 id=関連-relationship>関連 (Relationship)</h3><p>ひし形で表して、枠の中に関連名を書く。実体と無向線（矢印のない線）でつなぎ、線の横に関連のタイプ (1 : 1、1 : n、m : n) を書き込むんだ。</p><p>&lt;1> 2つの異なる実体間の関連</p><ul><li>1対1 (1 : 1)：実体集合 E<sub>1</sub> の1つの実体が、実体集合 E<sub>2</sub> の最大1つの実体と関連していること。</li><li>1対多 (1 : n)：実体集合 E<sub>1</sub> の1つの実体が、実体集合 E<sub>2</sub> の複数の実体と関連できること。</li><li>多対多 (m : n)：実体集合 E<sub>1</sub> の複数の実体が、実体集合 E<sub>2</sub> の複数の実体と関連できること。</li></ul><p>&lt;2> 3つ以上の異なる実体集合間の関連</p><p>3つ以上の実体集合の間でも、1 : 1 : 1、1 : 1 : n、1 : m : n、r : n : m といった関連が存在するよ。</p><p>&lt;3> 同一実体集合内のバイナリ関連</p><p>同じ実体集合の中の実体同士でも、1 : 1、1 : n、m : n の関連があるんだ（例：上司と部下など）。</p><h3 id=属性-attribute>属性 (Attribute)</h3><p>属性は実体の持つ特徴のことで、楕円で表すよ。枠の中に属性名を書き（主キーには下線を引く）、実体と線でつなぐ。</p><p>それぞれの属性には値の範囲（ドメイン）があるんだ。同じ実体集合なら属性やドメインは同じだけど、具体的な値は実体ごとに異なるよ。</p><p>E-R モデルの属性には、こんな分類がある：</p><ol><li>単純属性と複合属性</li></ol><p>単純属性は、それ以上分解できない最小単位のもの。複合属性は、さらに小さな部分（別の属性）に分けられるもの。
特に断りがない場合は、ふつう単純属性を指すよ。</p><ol start=2><li>単値属性と多値属性</li></ol><p>単値属性は、ある特定の実体に対して値が1つだけ決まるもの。
多値属性は、値が複数あるもの。</p><ol start=3><li>NULL 属性</li></ol><p>実体がある属性の値を持っていない、あるいは不明なときに NULL 値を使うよ。「意味がない」か「わからない」ってことだね。</p><ol start=4><li>派生属性</li></ol><p>他の属性から計算して導き出せる属性のこと。
例えば、社員に「入社日」と「勤続年数」という属性があるとき、「勤続年数」は「現在の日付」と「入社日」の差から計算できるよね。この場合「勤続年数」が派生属性になるんだ。</p><h3 id=弱実体-weak-entity>弱実体 (Weak Entity)</h3><p>現実世界には、実体間の従属関係を表す特殊な関連があるんだ。例えば「社員」と「家族」の関連。家族は常に特定の社員に属しているよね。このように、ある実体の存在が別の実体の存在を前提としている場合、その実体を「弱実体」と呼ぶよ。</p><p>E-R 図では、弱実体は二重線の長方形で表すんだ。</p><h3 id=スーパークラスとサブクラス>スーパークラスとサブクラス</h3><p>例えば「職員」という実体は、「パイロット」「整備士」「管理者」という実体のスーパークラス（親クラス）になれる。スーパークラスとサブクラスの間には継承関係があるよ。</p><p>サブクラスの長方形は両端に縦線があり、スーパークラスとの連結線には丸印（○）がつくんだ。</p><h2 id=概念構造設計段階>概念構造設計段階</h2><p>E-R 法を使って概念モデルを構築する段階だよ。</p><p>要件分析で得られたデータを分類・整理して、<strong>実体</strong>、<strong>属性</strong>、<strong>関連</strong>を特定していく。具体的なステップとしては、局所的な応用範囲を選び、個別の E-R 図（部分 E-R 図）を設計し、それらを最後に統合するんだ。</p><p>要件分析 → データの抽象化 → 部分ビューの設計 → 統合と衝突の解消 → 冗長性の排除と修正 → 論理構造設計へ</p><h3 id=局所的な応用の選択>局所的な応用の選択</h3><p>データフロー図 (DFD) の適切なレベルを選んで、その各部分を1つの局所的な応用に対応させ、特定の機能を実現するようにするよ。</p><h3 id=部分-e-r-図の設計>部分 E-R 図の設計</h3><p>各応用範囲を分けた後、それぞれに対して E-R 図（部分 E-R 図、またはローカル E-R 図）を設計していくんだ。</p><h3 id=e-r-図の統合>E-R 図の統合</h3><p>部分 E-R 図ができあがったら、それらを1つにまとめる。このとき、図の間で起きている衝突を解決するのが目的だよ。最終的に1つのグローバル E-R 図を完成させるんだ。</p><p>衝突には主に次の3つのタイプがある：</p><ol><li>属性の衝突</li></ol><p>同じ属性が別の部分 E-R 図にあるとき、設計者や視点の違いで、型、値の範囲、単位などが一致しないことがある。コンピュータには1つの形式でしか保存できないから、ここで統一する必要があるんだ。</p><ol start=2><li>命名の衝突</li></ol><p>意味は同じなのに名前が違う、あるいは名前は同じなのに意味が違う、といったケース。これも統一が必要だね。</p><ol start=3><li>構造の衝突</li></ol><p>同じ実体が別の図で違う属性を持っていたり、ある図では「実体」として扱われているのに別の図では「属性」として扱われていたりすること。これも調整が必要だよ。</p><h2 id=論理構造設計段階>論理構造設計段階</h2><p>概念設計をもとにして、具体的なデータモデル（階層型、網型、関係型など）に合わせて設計する段階。ここでは、グローバル E-R 図から関係モデルの論理構造を作る方法を説明するね。主なステップは、データモデルの決定、E-R 図からの変換、完全性制約（実体完全性、参照完全性、ユーザ定義完全性）の決定、そしてユーザビューの作成だよ。</p><p>概念設計 → データモデルへの変換 → 正規化 → スキーマの最適化 → ユーザサブスキーマの設計 → 物理設計へ</p><h3 id=e-r-図から関係スキーマへの変換>E-R 図から関係スキーマへの変換</h3><p>E-R 図は情報の世界を記述したもので、そのままではコンピュータで処理しにくいんだ。だから関係データベースで扱えるように「関係スキーマ」に変換するよ。E-R 図の3要素（実体、属性、関連）を、関係スキーマという唯一の構造に変換していくんだ。</p><h4 id=一実体から関係スキーマへの変換>一、実体から関係スキーマへの変換</h4><p>E-R 図の各実体を、それぞれ1つの関係スキーマに変換する。実体名がスキーマ名になり、実体の属性がスキーマの属性になる。実体の識別子（ID）が関係のキーになるよ。</p><h4 id=二関連から関係スキーマへの変換>二、関連から関係スキーマへの変換</h4><ol><li>1対1関連の変換</li></ol><p>1つの方法は、関連をどちらか一方の実体のスキーマに統合すること。統合先の属性セットに、もう一方の実体の主キーと、関連自体が持っている属性を追加すればOK。主キーは元のままだよ。</p><p>もう1つの方法（あまり使われないけど）は、関連を独立した1つの関係スキーマにすること。名前は関連名にして、属性には関連する両方の実体の主キーと関連自体の属性を入れる。キーはどちらか一方の主キーを選べばいい。</p><ol start=2><li>1対多関連の変換</li></ol><p>1つの方法は、関連を「多」側の実体のスキーマに統合すること。「多」側の属性セットに、「1」側の実体の主キーと関連の属性を追加する。主キーは「多」側のもののままだよ。</p><p>もう1つの方法（これもあまり使われない）は、独立したスキーマを作ること。属性は両方の実体の主キーと関連の属性。キーは「多」側の実体の主キーになるよ。</p><ol start=3><li>多対多関連の変換</li></ol><p>多対多の場合は、必ず独立した関係スキーマにする必要があるんだ。スキーマ名は関連名。属性は、関連する両方の実体の主キーと、関連自体の属性。キーは、両方の主キーを組み合わせたものになるよ。</p><ol start=4><li>多対多対多（3元以上）関連の変換</li></ol><p>3つの場合とだいたい同じだよ。</p><ol start=5><li>スーパークラスとサブクラスの変換</li></ol><p>スーパークラスもサブクラスも、それぞれ1つの関係に変換できる。このとき、スーパークラスの主キーをサブクラスの関係にも追加してあげるんだ。</p><h3 id=関係スキーマの正規化>関係スキーマの正規化</h3><ol><li>意味論（セマンティクス）にもとづいて、各スキーマのデータ依存性を特定する。</li><li>データ依存性にもとづいて、正規形（第1〜第5正規形など）を確認する。</li><li>条件を満たしていない場合は、分解アルゴリズムを使って、3NF、BCNF、あるいは 4NF まで分解する。</li><li>関係スキーマの評価と修正を行う。</li></ol><h2 id=物理設計段階>物理設計段階</h2><p>論理設計 → データベースの物理構造（物理モード）の決定 → 物理構造の評価 → 実施段階へ</p><h2 id=データベースの実施と保守>データベースの実施と保守</h2><p>物理設計 → データベースの定義 → データの流し込みとアプリ作成 → 試運転 → 運用・保守段階へ</p></section><footer class=article-footer><section class=article-tags><a href=/ja/tags/%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9/>データベース</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>This post is licensed under CC BY-NC-SA 4.0 by the author.</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>関連するコンテンツ</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/ja/archives/90/><div class=article-details><h2 class=article-title>データベース学習その5 範式</h2></div></a></article><article><a href=/ja/archives/89/><div class=article-details><h2 class=article-title>データベース学習その4 関係データベース理論</h2></div></a></article><article><a href=/ja/archives/88/><div class=article-details><h2 class=article-title>データベースの学習 3 SQL言語</h2></div></a></article><article><a href=/ja/archives/87/><div class=article-details><h2 class=article-title>データベース学習 2 リレーショナル モデル</h2></div></a></article><article><a href=/ja/archives/86/><div class=article-details><h2 class=article-title>データベース学習 1 データベース入門</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.39/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send{color:var(--twikoo-body-text-color-main)}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://twikoo-jade-one.vercel.app/",el:"#tcomment"})</script><footer class=site-footer><section class=copyright>&copy;
2021 -
2026 <a href=https://blog.yexca.net target=_blank class=link rel=noopener>yexca</a></section><section class=powerby><p><span id=htmer_time style=color:var(--themecolor)></span></p><img src=https://count.getloli.com/@yexca><p>Visits Since 2025-02-28</p><a href=https://gohugo.io/ target=_blank class=link rel=noopener>Hugo</a> で構築されています。 <span>|</span>
テーマ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank class=link rel=noopener data-version=3.29.0>Stack</a></b> は <a href=https://jimmycai.com target=_blank class=link rel=noopener>Jimmy</a> によって設計されています。</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script>function secondToDate(e){if(!e)return 0;var t=new Array(0,0,0,0,0);return e>=365*24*3600&&(t[0]=parseInt(e/(365*24*3600)),e%=365*24*3600),e>=24*3600&&(t[1]=parseInt(e/(24*3600)),e%=24*3600),e>=3600&&(t[2]=parseInt(e/3600),e%=3600),e>=60&&(t[3]=parseInt(e/60),e%=60),e>0&&(t[4]=e),t}</script><script type=text/javascript language=javascript>function setTime(){var e=Math.round(new Date(Date.UTC(2021,10,6,14,15,19)).getTime()/1e3),t=Math.round(((new Date).getTime()+8*60*60*1e3)/1e3);currentTime=secondToDate(t-e),currentTimeHtml="This blog has been running for "+currentTime[0]+" years "+currentTime[1]+" days "+currentTime[2]+" hours "+currentTime[3]+" minutes "+currentTime[4]+" seconds",document.getElementById("htmer_time").innerHTML=currentTimeHtml}setInterval(setTime,1e3)</script></body></html>