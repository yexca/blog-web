<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="üì¢ This article was translated by gemini-3-flash-preview Chapter 7: Writing Simple Shell Scripts If you need to perform a task repeatedly that requires many command lines, you can write a shell script to get the job done with a single command.\n"><title>Linux Learning Chapter 7: Writing Simple Shell Scripts</title>
<link rel=canonical href=https://blog.yexca.net/en/archives/81/><link rel=stylesheet href=/scss/style.min.b7ec927dc4f5c6096c93ad78b7ef0d90969136f8e508f2ef88ae08d4df577bb6.css><meta property='og:title' content="Linux Learning Chapter 7: Writing Simple Shell Scripts"><meta property='og:description' content="üì¢ This article was translated by gemini-3-flash-preview Chapter 7: Writing Simple Shell Scripts If you need to perform a task repeatedly that requires many command lines, you can write a shell script to get the job done with a single command.\n"><meta property='og:url' content='https://blog.yexca.net/en/archives/81/'><meta property='og:site_name' content="yexca'Blog"><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='Linux'><meta property='article:tag' content='Reading Notes'><meta property='article:published_time' content='2022-12-05T20:47:43+08:00'><meta property='article:modified_time' content='2022-12-05T20:47:43+08:00'><meta name=twitter:site content="@yexcano"><meta name=twitter:creator content="@yexcano"><meta name=twitter:title content="Linux Learning Chapter 7: Writing Simple Shell Scripts"><meta name=twitter:description content="üì¢ This article was translated by gemini-3-flash-preview Chapter 7: Writing Simple Shell Scripts If you need to perform a task repeatedly that requires many command lines, you can write a shell script to get the job done with a single command.\n"><link rel="shortcut icon" href=/favicon.ico><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.yexca.net\/en\/archives\/81\/"},"headline":"Linux Learning Chapter 7: Writing Simple Shell Scripts","name":"yexca'Blog","author":{"@type":"Person","name":"yexca"},"publisher":{"@type":"Person","name":"yexca'Blog"},"datePublished":"2022-12-05","dateModified":"2022-12-05","inLanguage":"en","description":"yexca\u0027s tech and life blog, writing about coding, projects, and daily thoughts."}</script><link rel=alternate hreflang=x-default href=https://blog.yexca.net/><link rel=alternate hreflang=zh-CN href=https://blog.yexca.net/><link rel=alternate hreflang=zh-TW href=https://blog.yexca.net/zh-tw/><link rel=alternate hreflang=ja href=https://blog.yexca.net/ja/><link rel=alternate hreflang=en href=https://blog.yexca.net/en/><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Noto+Sans+JP:wght@100..900&family=Noto+Sans+SC:wght@100..900&family=Noto+Sans+TC:wght@100..900&family=Yomogi&display=swap" rel=stylesheet></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/en/><img src=/img/avatar_hu16531030078560657968.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/en>yexca'Blog</a></h1><h2 class=site-description>Tech Otakus Change The World</h2></div></header><ol class=menu-social><li><a href=https://github.com/yexca target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:blog@yexca.net target=_blank title=Mail rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://t.me/yexca target=_blank title=Telegram rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-telegram"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 10l-4 4 6 6 4-16-18 7 4 2 2 6 3-4"/></svg></a></li><li><a href=/en/feed.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/en/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/en/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/en/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/en/background/><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Background</span></a></li><li><a href=/en/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/en/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/en/support/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-coffee"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 14c.83.642 2.077 1.017 3.5 1 1.423.017 2.67-.358 3.5-1s2.077-1.017 3.5-1c1.423-.017 2.67.358 3.5 1"/><path d="M8 3A2.4 2.4.0 007 5a2.4 2.4.0 001 2"/><path d="M12 3a2.4 2.4.0 00-1 2 2.4 2.4.0 001 2"/><path d="M3 10h14v5a6 6 0 01-6 6H9a6 6 0 01-6-6v-5z"/><path d="M16.746 16.726a3 3 0 10.252-5.555"/></svg>
<span>Support</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://blog.yexca.net/>ÁÆÄ‰Ωì‰∏≠Êñá</option><option value=https://blog.yexca.net/zh-tw/>ÁπÅÈ´î‰∏≠Êñá</option><option value=https://blog.yexca.net/en/ selected>English</option><option value=https://blog.yexca.net/ja/>Êó•Êú¨Ë™û</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#chapter-7-writing-simple-shell-scripts>Chapter 7: Writing Simple Shell Scripts</a><ul><li><a href=#71-understanding-shell-scripts>7.1 Understanding Shell Scripts</a></li><li><a href=#72-summary>7.2 Summary</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/en/categories/tech-learning/>Tech Learning</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/en/archives/81/>Linux Learning Chapter 7: Writing Simple Shell Scripts</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2022-12-05 20:47 +0800</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>9 minute read</time></div></footer><footer class=post-tags><svg class="icon icon-tabler icon-tabler-tag" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7v3l9 9 7-7-9-9H8A2 2 0 006 5"/><path d="M9 8h-.01"/></svg>
<a href=/en/tags/linux/ target=_blank class="tag badge badge-secondary post-meta-detail-tag">Linux</a>
<a href=/en/tags/reading-notes/ target=_blank class="tag badge badge-secondary post-meta-detail-tag">Reading Notes</a></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://blog.yexca.net/archives/81/ class=link>ÁÆÄ‰Ωì‰∏≠Êñá</a>
<a href=https://blog.yexca.net/zh-tw/archives/81/ class=link>ÁπÅÈ´î‰∏≠Êñá</a>
<a href=https://blog.yexca.net/ja/archives/81/ class=link>Êó•Êú¨Ë™û</a></div></footer></div></header><section class=article-content><div class=notice><strong>üì¢</strong> This article was translated by gemini-3-flash-preview</div><style lang=scss>.notice{padding:.75em 1em;margin:1em 0;border-left:4px solid;border-radius:4px;&.default { border-color: #ccc; background-color: #f9f9f9; color: #333; } &.info { border-color: #2196f3; background-color: #e3f2fd; color: #1a237e; } &.warn { border-color: #ff9800; background-color: #fff3e0; color: #e65100; } &.danger { border-color: #f44336; background-color: #ffebee; color: #b71c1c; }}[data-scheme=dark]{.notice { &.default { border-color: #666; background-color: #2a2a2a; color: #eee; } &.info { border-color: #90caf9; background-color: #1e3a5f; color: #e3f2fd; } &.warn { border-color: #ffb74d; background-color: #4e342e; color: #fff3e0; } &.danger { border-color: #ef5350; background-color: #3e2723; color: #ffebee; } }}[data-scheme=sepia]{.notice { &.info { border-color: #6a5acd; background-color: #fdf6e3; color: #3c2f2f; } &.warn { border-color: #e9967a; background-color: #faf0e6; color: #5c4033; } &.danger { border-color: #cd5c5c; background-color: #f5e0dc; color: #7b3f3f; } }}</style><h2 id=chapter-7-writing-simple-shell-scripts>Chapter 7: Writing Simple Shell Scripts</h2><p>If you need to perform a task repeatedly that requires many command lines, you can write a shell script to get the job done with a single command.</p><h3 id=71-understanding-shell-scripts>7.1 Understanding Shell Scripts</h3><p>A shell script is a collection of commands, functions, variables, or other shell features. These items are saved in a plain text file that can be executed as a command.</p><blockquote><p>Similar to batch files (.bat) in Windows.</p></blockquote><h4 id=711-executing-and-debugging-shell-scripts>7.1.1 Executing and Debugging Shell Scripts</h4><p>The main advantage of shell scripts is that you can open them in any text editor to view the contents. The biggest drawback is that large or complex scripts usually run slower than compiled programs. There are two basic ways to run a shell script:</p><ol><li><p>Pass the script name as an argument to the shell, for example: <code>bash myscript</code></p></li><li><p>Add the interpreter name (<code>#!/bin/bash</code>) to the first line, grant execution permissions (<code>chmod +x myscript</code>), and run it by specifying the path, for example: (<code>./myscript.sh</code>)</p></li></ol><p>Arguments following the script name on the command line are passed as parameters.</p><blockquote><p>Comments start with <code>#</code></p><p>You can add <code>set -x</code> at the beginning of the script or use <code>$ bash -x myscript</code> to display the commands being executed.</p></blockquote><h4 id=712-understanding-shell-variables>7.1.2 Understanding Shell Variables</h4><p>Variable names in the shell are case-sensitive. Note that there should be no spaces around the equals sign (<code>=</code>) during definition, for example:</p><p><code>NAME=value</code></p><p>You can assign constants such as text, numbers, and underscores to variables.</p><p>You can also assign the output of a command to a variable, for example: <code>MYDATE=$(date)</code> assigns the output of the <code>date</code> command to the variable <code>MYDATE</code>.</p><p>This way, every time <code>MYDATE</code> is used, the <code>date</code> command result is assigned. You can use single quotes <code>'</code> if you want the result of the command at the time of assignment.</p><hr><p>Special shell characters: dollar sign (<code>$</code>), quotes (<code>'</code>), asterisk (<code>*</code>), exclamation mark (<code>!</code>), etc.</p><p>If you want to display <code>$HOME</code> in the terminal, you need to escape the <code>$</code>. Use <code>echo '$HOME'</code> or <code>echo \$HOME</code>. Specifically:</p><p>If you want the shell to interpret a single character literally, use a backslash <code>\</code>.</p><p>If you want to interpret a group of characters literally, wrap them in single quotes (<code>'</code>).</p><p>If you want to interpret only part of a group of characters literally, use double quotes (<code>"</code>). Inside double quotes, the dollar sign (<code>$</code>), quotes (<code>'</code>), and exclamation mark (<code>!</code>) are still interpreted, but other characters (like the asterisk <code>*</code>) are not.</p><blockquote><p>To assign a value, use the variable name directly. To reference it (get its value), prefix the name with a dollar sign (<code>$</code>).</p><p>Example: Assigning one variable&rsquo;s value to another: <code>newVar="$oldVar"</code></p></blockquote><hr><h5 id=special-shell-positional-parameters>Special Shell Positional Parameters</h5><p><em>Positional parameters</em>, or <em>command-line arguments</em>, are named <code>$0</code>, <code>$1</code>, <code>$2</code>&mldr;<code>$n</code>.</p><p><code>$0</code> is the name of the script being called, while the others are assigned the values passed from the command line. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;The first parameter is </span><span class=nv>$1</span><span class=s2>, the second is </span><span class=nv>$2</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;The script name is </span><span class=nv>$0</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Total parameters passed: </span><span class=nv>$#</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;All parameters are: </span><span class=nv>$@</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Executing <code>./myscript hello bye</code> results in:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>The first parameter is hello, the second is bye
</span></span><span class=line><span class=cl>The script name is /home/yexca/tmp/myscript
</span></span><span class=line><span class=cl>Total parameters passed: <span class=m>2</span>
</span></span><span class=line><span class=cl>All parameters are: hello bye
</span></span></code></pre></td></tr></table></div></div><p>Another useful parameter is <code>$?</code>, which captures the exit status of the last executed command. Usually, a normal exit returns <code>0</code>.</p><hr><h5 id=reading-parameters>Reading Parameters</h5><p>Use the <code>read</code> command to get user input.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>read</span> -p <span class=s2>&#34;Please enter two nouns: &#34;</span> var1 var2
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;You entered </span><span class=nv>$var1</span><span class=s2> and </span><span class=nv>$var2</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div><hr><h5 id=parameter-expansion-in-bash>Parameter Expansion in Bash</h5><p>To get a variable&rsquo;s value, use the dollar sign (<code>$</code>), e.g., <code>$var</code>. This is shorthand for <code>${var}</code>.</p><p>Bash has rules for expanding parameter values in different ways. Here are common ones using <code>${var}</code> as an example:</p><div class=table-wrapper><table><thead><tr><th>Example</th><th>Description</th></tr></thead><tbody><tr><td>${var:-value}</td><td>If variable is unset or empty, expand to &ldquo;value&rdquo;</td></tr><tr><td>${var#pattern}</td><td>Strip the <em>shortest</em> match of pattern from the <em>front</em> of var&rsquo;s value</td></tr><tr><td>${var##pattern}</td><td>Strip the <em>longest</em> match of pattern from the <em>front</em> of var&rsquo;s value</td></tr><tr><td>${var%pattern}</td><td>Strip the <em>shortest</em> match of pattern from the <em>end</em> of var&rsquo;s value</td></tr><tr><td>${var%%pattern}</td><td>Strip the <em>longest</em> match of pattern from the <em>end</em> of var&rsquo;s value</td></tr></tbody></table></div><p>These features allow for useful applications:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>myFileName</span><span class=o>=</span>/home/yexca/myfile.txt
</span></span><span class=line><span class=cl><span class=c1># file becomes myfile.txt</span>
</span></span><span class=line><span class=cl><span class=nv>file</span><span class=o>=</span><span class=si>${</span><span class=nv>myFileName</span><span class=p>##*/</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=c1># dir becomes /home/yexca</span>
</span></span><span class=line><span class=cl><span class=nv>dir</span><span class=o>=</span><span class=si>${</span><span class=nv>myFileName</span><span class=p>%/*</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=c1># name becomes myfile</span>
</span></span><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span><span class=si>${</span><span class=nv>file</span><span class=p>%.*</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=c1># extension becomes txt</span>
</span></span><span class=line><span class=cl><span class=nv>extension</span><span class=o>=</span><span class=si>${</span><span class=nv>file</span><span class=p>##*.</span><span class=si>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=713-performing-arithmetic-in-shell-scripts>7.1.3 Performing Arithmetic in Shell Scripts</h4><p>Bash uses untyped variables. Unless you use <code>declare</code>, variables are treated as strings. They automatically convert to integers during calculations; no need to specify types during assignment.</p><p>You can use the built-in <code>let</code> command, the external <code>expr</code> command, or the <code>bc</code> command for integer math.</p><p>Examples: <code>let result=$num/16</code> or <code>let num=$RANDOM</code>.</p><p>There are also increment operators: <code>i++</code> and <code>++i</code>.</p><blockquote><p>The <code>let</code> command requires no spaces between operands and operators.</p><p>The <code>expr</code> command requires spaces between operands and operators.</p><p>The <code>bc</code> command has no space requirements and can handle floating-point math.</p></blockquote><h4 id=714-using-programming-structures-in-shell-scripts>7.1.4 Using Programming Structures in Shell Scripts</h4><ol><li>&ldquo;if&mldr;then&rdquo; Statement</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$var</span> -eq <span class=m>1</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;The var is 1&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><p>For numbers, <code>-eq</code> works well. For comparing string values, the equals sign (<code>=</code>) is better.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$str</span> <span class=o>=</span> <span class=s2>&#34;hello&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;hello&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><p>There is also the inequality operator <code>!=</code>.</p><p>Use <code>elif</code> for more options and <code>else</code> for the default case.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>str</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> -f <span class=s2>&#34;</span><span class=nv>$str</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$str</span><span class=s2> is a regular file&#34;</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[</span> -d <span class=s2>&#34;</span><span class=nv>$str</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$str</span><span class=s2> is a directory&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;???&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></td></tr></table></div></div><p>Common test conditions:</p><div class=table-wrapper><table><thead><tr><th>Operator</th><th>What it tests</th></tr></thead><tbody><tr><td>-a file</td><td>Does file exist (same as -e)</td></tr><tr><td>-b file</td><td>Is file a block special device</td></tr><tr><td>-c file</td><td>Is file a character special device (serial lines, terminals)</td></tr><tr><td>-d file</td><td>Is file a directory</td></tr><tr><td>-e file</td><td>Does file exist (same as -a)</td></tr><tr><td>-f file</td><td>Does file exist and is it a regular file (not a directory, socket, pipe, link, etc.)</td></tr><tr><td>-g file</td><td>Does file have the SGID bit set</td></tr><tr><td>-h file</td><td>Is file a symbolic link (same as -L)</td></tr><tr><td>-k file</td><td>Does file have the sticky bit set</td></tr><tr><td>-L file</td><td>Is file a symbolic link (same as -h)</td></tr><tr><td>-n string</td><td>Is string length greater than 0</td></tr><tr><td>-O file</td><td>Do you own the file</td></tr><tr><td>-p file</td><td>Is file a named pipe</td></tr><tr><td>-r file</td><td>Is file readable</td></tr><tr><td>-s file</td><td>Does file exist and is it larger than 0 bytes</td></tr><tr><td>-S file</td><td>Does file exist and is it a socket</td></tr><tr><td>-t file</td><td>Is file descriptor connected to a terminal</td></tr><tr><td>-u file</td><td>Does file have the SUID bit set</td></tr><tr><td>-w file</td><td>Is file writable</td></tr><tr><td>-x file</td><td>Is file executable</td></tr><tr><td>-z string</td><td>Is string length 0</td></tr></tbody></table></div><p>Comparing two variables:</p><div class=table-wrapper><table><thead><tr><th>Operator</th><th>What it tests</th></tr></thead><tbody><tr><td>expr1 -a expr2</td><td>Are both expressions true</td></tr><tr><td>expr1 -o expr2</td><td>Is either expression true</td></tr><tr><td>file1 -nt file2</td><td>Is file1 newer than file2 (modification time)</td></tr><tr><td>file1 -ot file2</td><td>Is file1 older than file2 (modification time)</td></tr><tr><td>file1 -ef file2</td><td>Are both files linked (hard or symbolic link)</td></tr><tr><td>var1 = var2</td><td>Does var1 equal var2</td></tr><tr><td>var1 -eq var2</td><td>Does var1 equal var2 (integer)</td></tr><tr><td>var1 -ge var2</td><td>Is var1 greater than or equal to var2</td></tr><tr><td>var1 -gt var2</td><td>Is var1 greater than var2</td></tr><tr><td>var1 -le var2</td><td>Is var1 less than or equal to var2</td></tr><tr><td>var1 -lt var2</td><td>Is var1 less than var2</td></tr><tr><td>var1 != var2</td><td>Does var1 not equal var2</td></tr><tr><td>var1 -ne var2</td><td>Does var1 not equal var2 (integer)</td></tr></tbody></table></div><p>You can also combine test operators with <code>&&</code> and <code>||</code> for logic similar to C&rsquo;s ternary operator.</p><p>C: <code>a>b ? a : b</code></p><p>Shell: <code>[ $a -gt $b ] && echo $a || echo $b</code></p><p>Standalone examples:
<code>[ $a -eq $b ] && echo $a</code> returns $a if a equals b.</p><p><code>[ -d "$dirName" ] || mkdir "$dirName"</code> creates the directory if it doesn&rsquo;t exist.</p><hr><ol start=2><li>case Command</li></ol><p>Similar to <code>switch</code> in C, used for selection. General form:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>case</span> <span class=s2>&#34;VAR&#34;</span> in
</span></span><span class=line><span class=cl>    Result1<span class=o>)</span>
</span></span><span class=line><span class=cl>        body
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    Result2 <span class=p>|</span> Result3<span class=o>)</span>
</span></span><span class=line><span class=cl>        body
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>
</span></span><span class=line><span class=cl>        body
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>or&mldr;do Loop</li></ol><p>Used for iterating over a list.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> VAR in LIST
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    body
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Or on one line</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> VAR in LIST <span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    body
</span></span><span class=line><span class=cl><span class=k>done</span> 
</span></span></code></pre></td></tr></table></div></div><p>Example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> num in <span class=m>0</span> <span class=m>1</span> <span class=m>2</span> <span class=m>3</span> <span class=m>4</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;The number is </span><span class=nv>$num</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Using command output as a list</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> file in <span class=k>$(</span>ls /bin<span class=k>)</span> <span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$file</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>while&mldr;do and until&mldr;do Loops</li></ol><p>Structures:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># while...do</span>
</span></span><span class=line><span class=cl><span class=k>while</span> condition
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    body
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># until...do</span>
</span></span><span class=line><span class=cl><span class=k>until</span> condition
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    body
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=715-useful-text-processing-utilities>7.1.5 Useful Text Processing Utilities</h4><p>Common tools include <code>grep</code>, <code>cut</code>, <code>tr</code>, <code>awk</code>, and <code>sed</code>. Most are designed to work with standard input/output.</p><ol><li>General Regular Expression Parser (<code>grep</code>)</li></ol><p>A tool for finding patterns in files or text. Use it for searching.</p><p>Format: <code>grep [pattern] [input]</code></p><p>Check <code>man grep</code> for more.</p><ol start=2><li>Removing Sections of Text (<code>cut</code>)</li></ol><p><code>cut</code> extracts fields from text or files. For example:</p><p><code>grep /home /etc/passwd | cut -d':' -f6</code></p><p>First, <code>grep</code> gets lines from /etc/passwd containing <code>/home</code>, then <code>cut</code> splits those lines using <code>:</code> as a delimiter and takes the sixth field (<code>-f6</code>).</p><ol start=3><li>Translating or Deleting Characters (<code>tr</code>)</li></ol><p><code>tr</code> is a character-based translator used to replace or delete characters.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Convert uppercase to lowercase</span>
</span></span><span class=line><span class=cl><span class=nv>FOO</span><span class=o>=</span><span class=s2>&#34;AbcDEF&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$FOO</span> <span class=p>|</span> tr <span class=o>[</span>A-Z<span class=o>]</span> <span class=o>[</span>a-z<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Replace spaces with underscores in filenames</span>
</span></span><span class=line><span class=cl><span class=k>for</span> file in *<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nv>f</span><span class=o>=</span><span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=nv>$file</span><span class=s2>&#34;</span> <span class=p>|</span> tr <span class=o>[</span>:blank:<span class=o>]</span> <span class=o>[</span>_<span class=o>]</span><span class=k>)</span>
</span></span><span class=line><span class=cl>    <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$file</span><span class=s2>&#34;</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=nv>$f</span><span class=s2>&#34;</span> <span class=o>]</span> <span class=o>||</span> mv -i -- <span class=s2>&#34;</span><span class=nv>$file</span><span class=s2>&#34;</span> <span class=s2>&#34;</span><span class=nv>$f</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>Stream Editor (<code>sed</code>)</li></ol><p><code>sed</code> is a simple script editor for tasks like deleting lines matching a pattern or replacing strings.</p><p>It&rsquo;s complex; refer to online documentation for details.</p><h4 id=716-using-a-simple-shell-script>7.1.6 Using a Simple Shell Script</h4><p>A phone list example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># (@)/ph</span>
</span></span><span class=line><span class=cl><span class=c1># A very simple telephone list</span>
</span></span><span class=line><span class=cl><span class=c1># Type &#34;ph new name number&#34; to add to the list, or</span>
</span></span><span class=line><span class=cl><span class=c1># just type &#34;ph name&#34; to get a phone number</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>PHONELIST</span><span class=o>=</span>~/.phonelist.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># If no command line parameters ($#), there</span>
</span></span><span class=line><span class=cl><span class=c1># is a problem, so ask what they&#39;re talking about.</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -lt <span class=m>1</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Whose phone number did you want? &#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Did you want to add a new phone number?</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$1</span> <span class=o>=</span> <span class=s2>&#34;new&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>shift</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$*</span> &gt;&gt; <span class=nv>$PHONELIST</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$*</span> added to database
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Nope. But does the file have anything in it yet?</span>
</span></span><span class=line><span class=cl><span class=c1># This might be our first time using it, after all.</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> ! -s <span class=nv>$PHONELIST</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;No names in the phone list yet!&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    grep -i -q <span class=s2>&#34;</span><span class=nv>$*</span><span class=s2>&#34;</span> <span class=nv>$PHONELIST</span>    <span class=c1># Quietly search the file</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -ne <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>    <span class=c1># Did we find anything?</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Sorry, that name was not found in the phone list&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>        grep -i <span class=s2>&#34;</span><span class=nv>$*</span><span class=s2>&#34;</span> <span class=nv>$PHONELIST</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=nb>exit</span> <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=72-summary>7.2 Summary</h3><p>Writing shell scripts allows you to automate common system administration tasks efficiently.</p></section><footer class=article-footer><section class=article-tags><a href=/en/tags/linux/>Linux</a>
<a href=/en/tags/reading-notes/>Reading Notes</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>This post is licensed under CC BY-NC-SA 4.0 by the author.</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/en/archives/79/><div class=article-details><h2 class=article-title>Linux Learning Chapter 6: Managing Running Processes</h2></div></a></article><article><a href=/en/archives/75/><div class=article-details><h2 class=article-title>Linux Learning Chapter 4: Moving Around the File System</h2></div></a></article><article><a href=/en/archives/69/><div class=article-details><h2 class=article-title>Linux Learning Chapter 3: Using the Shell</h2></div></a></article><article><a href=/en/archives/78/><div class=article-details><h2 class=article-title>Linux Learning Chapter 5: Working with Text Files</h2></div></a></article><article><a href=/en/archives/70/><div class=article-details><h2 class=article-title>SSH Public Key Authentication</h2></div></a></article></div></div></aside><script src=//cdn.jsdelivr.net/npm/twikoo@1.6.39/dist/twikoo.all.min.js></script><div id=tcomment></div><style>.twikoo{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}:root[data-scheme=dark]{--twikoo-body-text-color-main:rgba(255, 255, 255, 0.9);--twikoo-body-text-color:rgba(255, 255, 255, 0.7)}.twikoo .el-input-group__prepend,.twikoo .tk-action-icon,.twikoo .tk-submit-action-icon,.twikoo .tk-time,.twikoo .tk-comments-no,.twikoo .tk-comments-count{color:var(--twikoo-body-text-color)}.twikoo .el-input__inner,.twikoo .el-textarea__inner,.twikoo .tk-preview-container,.twikoo .tk-content,.twikoo .tk-nick,.twikoo .tk-send{color:var(--twikoo-body-text-color-main)}.twikoo .el-button{color:var(--twikoo-body-text-color)!important}.twikoo .el-input__count{color:var(--twikoo-body-text-color)!important}.OwO .OwO-body{background-color:var(--body-background)!important;color:var(--body-text-color)!important}</style><script>twikoo.init({envId:"https://twikoo-jade-one.vercel.app/",el:"#tcomment"})</script><footer class=site-footer><section class=copyright>&copy;
2021 -
2026 <a href=https://blog.yexca.net target=_blank class=link rel=noopener>yexca</a></section><section class=powerby><p><span id=htmer_time style=color:var(--themecolor)></span></p><img src=https://count.getloli.com/@yexca><p>Visits Since 2025-02-28</p>Built with <a href=https://gohugo.io/ target=_blank class=link rel=noopener>Hugo</a> <span>|</span>
Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank class=link rel=noopener data-version=3.29.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank class=link rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script>function secondToDate(e){if(!e)return 0;var t=new Array(0,0,0,0,0);return e>=365*24*3600&&(t[0]=parseInt(e/(365*24*3600)),e%=365*24*3600),e>=24*3600&&(t[1]=parseInt(e/(24*3600)),e%=24*3600),e>=3600&&(t[2]=parseInt(e/3600),e%=3600),e>=60&&(t[3]=parseInt(e/60),e%=60),e>0&&(t[4]=e),t}</script><script type=text/javascript language=javascript>function setTime(){var e=Math.round(new Date(Date.UTC(2021,10,6,14,15,19)).getTime()/1e3),t=Math.round(((new Date).getTime()+8*60*60*1e3)/1e3);currentTime=secondToDate(t-e),currentTimeHtml="This blog has been running for "+currentTime[0]+" years "+currentTime[1]+" days "+currentTime[2]+" hours "+currentTime[3]+" minutes "+currentTime[4]+" seconds",document.getElementById("htmer_time").innerHTML=currentTimeHtml}setInterval(setTime,1e3)</script></body></html>